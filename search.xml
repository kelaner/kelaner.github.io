<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Tensorflowé˜¶æ®µæ€§æ€»ç»“</title>
      <link href="2022/08/11/tf.Summarize/"/>
      <url>2022/08/11/tf.Summarize/</url>
      
        <content type="html"><![CDATA[<h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><blockquote><p>â€œåˆ‡å‹¿æµªè´¹è¾ƒå¤šä¸œè¥¿ï¼Œå»åšâ€™ç”¨è¾ƒå°‘çš„ä¸œè¥¿ï¼ŒåŒæ ·å¯ä»¥åšå¥½çš„äº‹æƒ…â€™ã€‚â€  â€”â€”â€”â€”å¥¥å¡å§†çš„å¨å»‰(William of Occam)</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯æˆ‘çš„é˜¶æ®µæ€§æ€»ç»“ï¼ŒåŸºäºå››ä¸ªå‘¨<code>Tensorflow</code>çš„æ·±åº¦å­¦ä¹ ä¸ç ”ç©¶ï¼Œå¤ä»¤è¥äº¦å³å°†æš‚æ—¶å‘Šä¸€æ®µè½ï¼Œè§‰å¾—æœ‰å¿…è¦æ²‰ä¸‹å¿ƒæ¥æ¢³ç†ä¸€ä¸‹ï¼Œæš‚å†³å®šä»¥ä¸‹åˆ†ä¸‰ä¸ªéƒ¨åˆ†å»å†™ï¼š</p><ul><li>ç¬¬ä¸€éƒ¨åˆ†å¿…æ˜¯å¯¹æ‰€å­¦å†…å®¹çš„å›é¡¾</li><li>ç¬¬äºŒéƒ¨åˆ†åº”æ˜¯å¯¹æˆ‘ä¹‹å‰çš„å®æˆ˜è¿›è¡Œæ¢³ç†å¹¶æ‹“å±•å®Œæˆä¸€ä¸ªè‡ªå‘½é¢˜çš„å®æˆ˜</li><li>ç¬¬ä¸‰éƒ¨åˆ†å¯ä»¥æ€è€ƒä¹‹åç»§ç»­æ·±åº¦å­¦ä¹ çš„èŒƒå›´</li></ul><p>&emsp;&emsp;ä¸€æ–¹é¢æ˜¯å·©å›ºå¯¹<code>Tensorflow</code>çš„åº”ç”¨ï¼ŒåŠ æ·±å¯¹æ·±åº¦å­¦ä¹ çš„äº†è§£ï¼Œå¦ä¸€æ–¹é¢æ˜¯æœ‰åˆ©äºå¯¹æˆ‘ä¹Ÿåœ¨æ¥è§¦çš„å…¶ä»–æ·±åº¦å­¦ä¹ å®æˆ˜æ¡ˆä¾‹ï¼ˆä»ç®€å•çš„<code>è¯äº‘</code>åˆ°å¤æ‚çš„<code>è¯­éŸ³è¯†åˆ«</code>ï¼‰çš„ç†è§£ï¼Œä¹‹åä¼šå°†å¯ä»¥å¤ç°çš„å®æˆ˜ä»£ç æ¬åˆ°åšå®¢é‡Œã€‚</p><h1 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h1><p>&emsp;&emsp;ä»å­¦ä¹ å¼€å§‹åˆ°ç°åœ¨ï¼Œæˆ‘å‘è¿‡ä¸€ç¯‡<a href="https://www.cnblogs.com/lanercifang/p/16505001.html"><code>Tensorflow-gpu2.0</code>(è·³è½¬)</a>ç¯å¢ƒæ­å»ºçš„åšå®¢æ–‡ï¼Œäº¦å°†å®Œæˆçš„ å‡ ä¸ªå®æˆ˜ä»£ç æ¨åˆ°äº†æˆ‘çš„åšå®¢å›­ä¸­ï¼Œå¯¹äºæ‰€è¯´çš„åŸºç¡€çŸ¥è¯†ï¼Œä¸è®ºæ˜¯å­¦ä¹ è¿˜æ˜¯å›é¡¾ï¼Œæˆ‘éƒ½è®¤ä¸ºä»¥ç¿»é˜…<code>ã€ŠTensorflowæ·±åº¦å­¦ä¹ ã€‹</code>è¿™æœ¬ä¹¦ä¸ºæœ€ä¼˜ï¼Œæˆ‘çš„ç¬”è®°äº¦å‡ ä¹åœ¨å…¶ä¸Šï¼Œåœ¨æ­¤ä¸€ä¸€å™è¿°ä¸å°½ç°å®ï¼Œæ•…åªåœ¨æ­¤åˆ—ä¸¾å¤§ä½“æçº²ï¼š</p><ul><li>TensorflowåŸºç¡€æ“ä½œ</li><li>Tensorflowè¿›é˜¶æ“ä½œ</li><li>å…¨è¿æ¥å±‚ä¸ç¥ç»ç½‘ç»œ</li><li>æ¢¯åº¦ä¸æ¢¯åº¦ä¸‹é™</li><li>Kerasé«˜å±‚æ¥å£</li><li>è¿‡æ‹Ÿåˆ</li></ul><p>å…¶ä¸­æˆ‘è®¤ä¸ºæ¯”è¾ƒé‡ç‚¹æˆ–è¯´å¿…æŒæ¡çš„æœ‰ï¼š</p><ul><li>æ•°æ®é›†çš„åŠ è½½ï¼ˆä¸èƒ½ä¸ä¼šå•ŠğŸ˜‚ï¼‰</li><li><code>tf.GradientTape()</code>æ¢¯åº¦è®°å½•å™¨</li><li><code>Softmax</code> å‡½æ•°</li><li><code>MSE</code>ä¸æŸå¤±<code>Loss</code></li><li><code>ReLU</code>æ¿€æ´»å‡½æ•°</li><li>å…¨è¿æ¥å±‚</li><li>ç½‘ç»œå®¹å™¨ <code>Sequential</code></li><li>æœ‰å…³æ¨¡å‹çš„æ“ä½œ<ul><li>è£…é…ã€è®­ç»ƒã€æµ‹è¯•ã€ä¿å­˜ä¸åŠ è½½</li></ul></li><li><code>Dropout</code>æ–¹æ³•</li></ul><h1 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h1><p>å…ˆç®€å•æ¢³ç†ä¸‹è‡³ä»Šå®Œæˆçš„å®æˆ˜æ¡ˆä¾‹ï¼š</p><ul><li><code>å‰å‘ä¼ æ’­</code>å®æˆ˜</li><li><code>MNIST</code>æ‰‹å†™æ•°å­—è¯†åˆ«ä¸å¯è§†åŒ–</li><li><code>FashionMNIST</code>çš„è¯†åˆ«</li><li><code>Himmelblau</code>å‡½æ•°ä¼˜åŒ–</li><li><code>CIFAR10</code>è‡ªå®šä¹‰ç½‘ç»œ</li><li><code>Dropout</code>è§£å†³è¿‡æ‹ŸåˆåŒ–è®­ç»ƒ</li></ul><p>å¤§è‡´æ˜¯ä»¥å­¦ä¹ çš„è¿›åº¦é€ä¸ªæ”»ç ´ï¼Œé‡åœ¨å¥½å¥½ç†è§£è¿‡ç¨‹ï¼Œæç‚¼å‡ºä¸€ä¸ªä¸ªæ¨¡å‹ã€‚</p><h2 id="æ‹“å±•å®æˆ˜"><a href="#æ‹“å±•å®æˆ˜" class="headerlink" title="æ‹“å±•å®æˆ˜"></a>æ‹“å±•å®æˆ˜</h2><p>æ¥ä¸‹æ¥å°±æ¼”ç¤ºæ‹“å±•å®æˆ˜â€”â€”â€”â€”<strong>æ·»åŠ å¤šå±‚ç½‘ç»œè§£å†³æ¬ æ‹ŸåˆåŒ–è®­ç»ƒ</strong>:</p><p>ä¹‹å‰å†™è¿‡ä¸€ä»½å…³äºâ€™ç”¨<code>Dropout</code>è§£å†³è¿‡æ‹ŸåˆåŒ–è®­ç»ƒâ€™çš„å®æˆ˜ï¼Œé‚£å°±åœ¨æ­¤é™„ä¸Šä¸€ä»½è§£å†³æ¬ æ‹ŸåˆåŒ–çš„å®æˆ˜(<a href="https://www.cnblogs.com/lanercifang/p/16574139.html">æ•´åˆåçš„ä»£ç æ”¾åœ¨è¿™é‡Œ</a>)ï¼š</p><h3 id="çŸ¥è¯†ç‚¹è¡¥å……"><a href="#çŸ¥è¯†ç‚¹è¡¥å……" class="headerlink" title="çŸ¥è¯†ç‚¹è¡¥å……"></a>çŸ¥è¯†ç‚¹è¡¥å……</h3><p>åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆè¡¥å……ä¸€ä¸‹å¿…è¦çš„çŸ¥è¯†ç‚¹ï¼Œé¦–å…ˆæ˜¯å¯¹è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆçš„ç†è§£:</p><blockquote><p>è¿‡æ‹Ÿåˆï¼šå½“æ¨¡å‹çš„å®¹é‡è¿‡å¤§æ—¶ï¼Œç½‘ç»œæ¨¡å‹é™¤äº†å­¦ä¹ åˆ°è®­ç»ƒé›†æ•°æ®çš„æ¨¡æ€ä¹‹å¤–ï¼Œè¿˜æŠŠé¢å¤–çš„è§‚æµ‹è¯¯å·®ä¹Ÿå­¦ä¹ è¿›æ¥ï¼Œå¯¼è‡´å­¦ä¹ çš„æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šé¢è¡¨ç°è¾ƒå¥½ï¼Œä½†æ˜¯åœ¨æœªè§çš„æ ·æœ¬ä¸Šè¡¨ç°ä¸ä½³ï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹æ³›åŒ–èƒ½åŠ›åå¼±ï¼Œæˆ‘ä»¬æŠŠè¿™ç§ç°è±¡å«ä½œè¿‡æ‹Ÿåˆ(Overfitting)ã€‚</p></blockquote><blockquote><p>æ¬ æ‹Ÿåˆï¼šå½“æ¨¡å‹çš„å®¹é‡è¿‡å°æ—¶ï¼Œæ¨¡å‹ä¸èƒ½å¤Ÿå¾ˆå¥½åœ°å­¦ä¹ åˆ°è®­ç»ƒé›†æ•°æ®çš„æ¨¡æ€ï¼Œå¯¼è‡´è®­ç»ƒé›†ä¸Šè¡¨ç°ä¸ä½³ï¼ŒåŒæ—¶åœ¨æœªè§çš„æ ·æœ¬ä¸Šè¡¨ç°ä¹Ÿä¸ä½³ï¼Œæˆ‘ä»¬æŠŠè¿™ç§ç°è±¡å«ä½œæ¬ æ‹Ÿåˆ(Underfitting)ã€‚</p></blockquote><p>&emsp;&emsp;å½“æˆ‘ä»¬å‘ç°å½“å‰çš„æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¯¯å·®ä¸€ç›´ç»´æŒè¾ƒé«˜çš„çŠ¶æ€ï¼Œå¾ˆéš¾ä¼˜åŒ–å‡å°‘ï¼ŒåŒæ—¶åœ¨æµ‹è¯•é›†ä¸Šä¹Ÿè¡¨ç°ä¸ä½³æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æ˜¯å¦å‡ºç°äº†æ¬ æ‹Ÿåˆçš„ç°è±¡ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡å¢åŠ ç¥ç»ç½‘ç»œçš„å±‚æ•°ã€å¢å¤§ä¸­é—´ç»´åº¦çš„å¤§å°ç­‰æ‰‹æ®µï¼Œæ¯”è¾ƒå¥½çš„è§£å†³æ¬ æ‹Ÿåˆçš„é—®é¢˜ã€‚è™½ç„¶åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ›´å¤šä¼šç¢°åˆ°çš„åº”è¯¥æ˜¯æ˜¯å‡ºç°è¿‡æ‹Ÿåˆç°è±¡ã€‚ä½†æ­£å¦‚å¥¥å¡å§†å‰ƒåˆ€åŸç†ï¼ˆé¡µé¦–Tip)æ‰€è¯´ï¼Œæˆ‘ä»¬åº”è¯¥ä¼˜å…ˆé€‰æ‹©ä½¿ç”¨æ›´ç®€å•çš„ç¥ç»ç½‘ç»œï¼Œå› ä¸ºå¦‚æ­¤å‚æ•°é‡ä¼šæ›´å°‘ï¼Œæ›´å®¹æ˜“è®­ç»ƒï¼Œä¹Ÿæ›´å®¹æ˜“é€šè¿‡è¾ƒå°‘çš„è®­ç»ƒæ ·æœ¬è·å¾—ä¸é”™çš„æ³›åŒ–è¯¯å·®ã€‚</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>é¦–å…ˆå¯¼å…¥æ‰€éœ€è¦çš„åº“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†ç”Ÿæˆå·¥å…·</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers, Sequential</span><br></pre></td></tr></table></figure><p>åŠ è½½æ•°æ®é›†å¹¶è‡ªå®šä¹‰ç»˜å›¾æ ·å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">16</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;STKaiti&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡‡æ ·ç‚¹æ•°</span></span><br><span class="line">N_SAMPLES = <span class="number">1000</span></span><br><span class="line"><span class="comment"># æµ‹è¯•æ•°é‡æ¯”ç‡</span></span><br><span class="line">TEST_SIZE = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">X, y = make_moons(n_samples=N_SAMPLES, noise=<span class="number">0.25</span>, random_state=<span class="number">100</span>)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=TEST_SIZE, random_state=<span class="number">42</span>)</span><br></pre></td></tr></table></figure><p>ç»˜åˆ¶æ•°æ®é›†åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_plot</span>(<span class="params">X, y, plot_name, file_name, XX=<span class="literal">None</span>, YY=<span class="literal">None</span>, preds=<span class="literal">None</span>, dark=<span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> dark:</span><br><span class="line">        plt.style.use(<span class="string">&#x27;dark_background&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sns.set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">    axes = plt.gca()</span><br><span class="line">    axes.set_xlim([-<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    axes.set_ylim([-<span class="number">1.5</span>, <span class="number">2</span>])</span><br><span class="line">    axes.<span class="built_in">set</span>(xlabel=<span class="string">&quot;$x_1$&quot;</span>, ylabel=<span class="string">&quot;$x_2$&quot;</span>)</span><br><span class="line">    plt.title(plot_name, fontsize=<span class="number">20</span>, fontproperties=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line">    plt.subplots_adjust(left=<span class="number">0.20</span>)</span><br><span class="line">    plt.subplots_adjust(right=<span class="number">0.80</span>)</span><br><span class="line">    <span class="comment"># æ ¹æ®ç½‘ç»œè¾“å‡ºç»˜åˆ¶é¢„æµ‹æ›²é¢</span></span><br><span class="line">    <span class="keyword">if</span>(XX <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> YY <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> preds <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">        plt.contourf(XX, YY, preds.reshape(XX.shape), <span class="number">25</span>, alpha=<span class="number">0.08</span>, cmap=plt.cm.Spectral)</span><br><span class="line">        plt.contour(XX, YY, preds.reshape(XX.shape), levels=[<span class="number">.5</span>], cmap=<span class="string">&quot;Greys&quot;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">.6</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ­£è´Ÿæ ·æœ¬</span></span><br><span class="line">    markers = [<span class="string">&#x27;o&#x27;</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> y.ravel()]</span><br><span class="line">    mscatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y.ravel(), s=<span class="number">20</span>, cmap=plt.cm.Spectral, edgecolors=<span class="string">&#x27;none&#x27;</span>, m=markers, ax=axes)</span><br><span class="line">    <span class="comment"># ä¿å­˜çŸ¢é‡å›¾</span></span><br><span class="line">    plt.savefig(file_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mscatter</span>(<span class="params">x, y, ax=<span class="literal">None</span>, m=<span class="literal">None</span>, **kw</span>):</span></span><br><span class="line">    <span class="keyword">import</span> matplotlib.markers <span class="keyword">as</span> mmarkers</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    sc = ax.scatter(x, y, **kw)</span><br><span class="line">    <span class="keyword">if</span> (m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(m) == <span class="built_in">len</span>(x)):</span><br><span class="line">        paths = []</span><br><span class="line">        <span class="keyword">for</span> marker <span class="keyword">in</span> m:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(marker, mmarkers.MarkerStyle):</span><br><span class="line">                marker_obj = marker</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                marker_obj = mmarkers.MarkerStyle(marker)</span><br><span class="line">            path = marker_obj.get_path().transformed(</span><br><span class="line">                marker_obj.get_transform())</span><br><span class="line">            paths.append(path)</span><br><span class="line">        sc.set_paths(paths)</span><br><span class="line">    <span class="keyword">return</span> sc</span><br><span class="line"></span><br><span class="line">make_plot(X, y, <span class="literal">None</span>, <span class="string">&quot;æœˆç‰™å½¢çŠ¶äºŒåˆ†ç±»æ•°æ®é›†åˆ†å¸ƒ.svg&quot;</span>)</span><br></pre></td></tr></table></figure><p><strong>æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹ç½‘ç»œå±‚æ•°çš„å½±å“ï¼Œè¿™é‡Œæ³¨æ„ç½‘ç»œå®¹å™¨ <code>Sequential</code>çš„ä½¿ç”¨ä»¥åŠæ¨¡å‹çš„è£…é…ã€è®­ç»ƒæ“ä½œ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»º 5 ç§ä¸åŒå±‚æ•°çš„ç½‘ç»œ</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    <span class="comment"># åˆ›å»ºå®¹å™¨</span></span><br><span class="line">    model = Sequential()</span><br><span class="line">    <span class="comment"># åˆ›å»ºç¬¬ä¸€å±‚</span></span><br><span class="line">    model.add(layers.Dense(<span class="number">8</span>, input_dim=<span class="number">2</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">    <span class="comment"># æ·»åŠ  n å±‚ï¼Œå…± n+2 å±‚</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        model.add(layers.Dense(<span class="number">32</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">    <span class="comment"># åˆ›å»ºæœ€æœ«å±‚</span></span><br><span class="line">    model.add(layers.Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">    <span class="comment"># æ¨¡å‹è£…é…ä¸è®­ç»ƒ</span></span><br><span class="line">    model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">    model.fit(X_train, y_train, epochs=<span class="number">500</span>, verbose=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶ä¸åŒå±‚æ•°çš„ç½‘ç»œå†³ç­–è¾¹ç•Œæ›²çº¿</span></span><br><span class="line">    <span class="comment"># å¯è§†åŒ–çš„ x åæ ‡èŒƒå›´ä¸º[-2, 3]</span></span><br><span class="line">    xx = np.arange(-<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.01</span>)</span><br><span class="line">    <span class="comment"># å¯è§†åŒ–çš„ y åæ ‡èŒƒå›´ä¸º[-1.5, 2]</span></span><br><span class="line">    yy = np.arange(-<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">    <span class="comment"># ç”Ÿæˆ x-y å¹³é¢é‡‡æ ·ç½‘æ ¼ç‚¹ï¼Œæ–¹ä¾¿å¯è§†åŒ–</span></span><br><span class="line">    XX, YY = np.meshgrid(xx, yy)</span><br><span class="line">    preds = model.predict_classes(np.c_[XX.ravel(), YY.ravel()])</span><br><span class="line">    title = <span class="string">&quot;ç½‘ç»œå±‚æ•°ï¼š&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span> + n)</span><br><span class="line">    file = <span class="string">&quot;ç½‘ç»œå®¹é‡_%i.png&quot;</span> % (<span class="number">2</span> + n)</span><br><span class="line">    make_plot(X_train, y_train, title, file, XX, YY, preds)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">Epoch 500/500</span><br><span class="line">750/750 [==============================] - 0s 68us/sample - loss: 0.0921 - accuracy: 0.9547</span><br></pre></td></tr></table></figure><h1 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h1><p>&emsp;&emsp;æŒ‰ç…§åŸå…ˆçš„æƒ³æ³•ï¼Œæ¥ä¸‹æ¥è¦æ¥è§¦çš„æ˜¯<code>å·ç§¯ç¥ç»ç½‘ç»œ</code>ã€<code>å¾ªç¯ç¥ç»ç½‘ç»œ</code>ä¸<code>è‡ªç¼–ç å™¨</code>ï¼Œå¹¶åŒæ—¶æ‹“å±•æ·±åº¦å­¦ä¹ çš„å®æˆ˜é¡¹ç›®ï¼Œå®é™…ä¹Ÿè®¸ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§å‡ºå…¥ï¼Œæ¥ä¸‹æ¥è°ˆè°ˆå—¯æˆ‘çš„ä¸€äº›æƒ³æ³•å§ï¼š<br>&emsp;&emsp;ç»è¿‡ä¹‹å‰çš„å­¦ä¹ ï¼Œé¦–å…ˆæ˜¯å¯¹<code>Tensorflow</code>çš„ä½¿ç”¨çš„åˆæ­¥æŒæ¡ï¼Œè¿™ä¸»è¦ä½“ç°åœ¨ä»£ç é€»è¾‘å’Œå‡ ä¸ªâ€œæ–¹æ³•â€çš„ç†è§£ã€‚è€Œè°ˆåŠâ€œæ·±åº¦å­¦ä¹ â€ï¼Œåœ¨æˆ‘å¼€å§‹æ­£å¼å­¦ä¹ <code>Tensorflow</code>ä¹‹å‰å°±æœ‰<code>Tensorflow</code>æ˜¯ä¸€ä¸ªå·¥å…·çš„è®¤çŸ¥ï¼Œæ•…å¯¹<code>Tensorflow</code>çš„å­¦ä¹ ä¸å¯¹<code>æ·±åº¦å­¦ä¹ </code>çš„ç†è§£ä¸èƒ½æ··ä¸ºä¸€è°ˆï¼Œæ·±åº¦å­¦ä¹ çš„æ¶‰åŠï¼Œæˆ‘æš‚æ—¶æ˜¯è®¤ä¸ºåº”ä½“ç°åœ¨å¯¹å›¾åƒã€è¯­éŸ³ã€è§†é¢‘çš„å¤„ç†ä¸­ï¼Œå®ƒæ‰€é’ˆå¯¹çš„ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¸ªçš„â€<code>ä»»åŠ¡</code>â€œå§ï¼Œè€Œåœ¨å¤„ç†è¿™äº›ä»»åŠ¡æ—¶ï¼Œä»–çš„â€æ¨¡å¼â€œæ˜¯â€ç½‘ç»œâ€œæˆ–ä¸¥è°¨æ¥è¯´åº”è¯¥æ˜¯â€<code>ç¥ç»ç½‘ç»œ</code>â€œã€‚<br>&emsp;&emsp;â€œ<code>æ·±åº¦</code>â€çš„æ¦‚å¿µï¼Œæ˜¯å¤æ‚ï¼Ÿå®é™…è¯´ä¹Ÿç¡®å®ä¸ç®€å•ï¼Œä½†å¤æ‚å¯èƒ½å¹¶ä¸è´´åˆ‡ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯ä¸ºå¤æ‚è€Œå¤æ‚ï¼Œ<del>ç¨‹åºçŒ¿æœ¬å°±æ˜¯æœ¬ç€ä»ç®€çš„åŸåˆ™å¤„ç†ç¨‹åº</del>â€œä¸€åˆ‡éƒ½åº”è¯¥å°½å¯èƒ½åœ°ç®€å•ï¼Œä½†ä¸èƒ½è¿‡äºç®€å•â€,â€æ·±åº¦â€æ‰€ä½“ç°çš„æˆ‘è®¤è¯†åº”è¯¥æ˜¯æŒ‡ä»–çš„å®¹é‡å§ï¼Œä¸€ä¸ªè¯æˆ‘è®¤ä¸ºå¾ˆè´´åˆ‡ï¼Œé‚£å°±æ˜¯â€<code>å¤§æ•°æ®</code>â€œã€‚<br>&emsp;&emsp;æ¦‚å¿µä¸Šçš„ç†è§£å¤§è‡´è¿™æ ·å§ï¼Œåˆšæ¥è§¦çš„å°å°ç™½ä¹Ÿä¸å¤§ç°å®æœ‰å¤ªæ·±çš„ç†è§£ï¼Œè€Œå¯¹æ·±åº¦å­¦ä¹ çš„å­¦ä¹ çœ‹æ³•ï¼Œç®€å•æ¥è¯´å°±è¯¥æ˜¯<code>æç‚¼æ¨¡å‹</code>äº†ï¼Œå¯¹æ¨¡å‹çš„å»ºç«‹ã€è®­ç»ƒå°±æ˜¯å€ŸåŠ©<code>Tensorflow</code>æ‰€è¦å®Œæˆçš„ä»»åŠ¡ï¼Œè¿˜æœ‰ä¸€ç‚¹ä¸å¾—ä¸æçš„å°±æ˜¯å¯¹<code>Python</code>çš„å­¦ä¹ äº†ï¼Œåº†å¹¸åœ¨æ­¤æ–¹é¢æˆ‘è¿˜ç®—æœ‰ä¸ªä¸ç®—å¤ªè–„çš„åº•å­å§ã€‚</p><h1 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h1><p>&emsp;&emsp;èŠœæ¹–ï¼ï¼ä»¥ä¸Šï¼Œå°±æ˜¯æœ¬æ¬¡è®¾è®¡çš„æ‰€æœ‰å†…å®¹äº†ï¼Œç”±äºTensorflowç‰ˆæœ¬é—®é¢˜ï¼Œç½‘ä¸Šå®ä¾‹å‡ ä¹éƒ½ä¼šæœ‰å„ç§å„æ ·çš„æŠ¥é”™ï¼Œæˆ‘åœ¨æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯ç»å¸¸å„ç§åƒç™¾åº¦55ã€‚è¿˜æ˜¯è¦ç†è§£å„ç§æ“ä½œï¼Œå„ç§æ–¹æ³•ï¼Œç¼–å†™èµ·ä»£ç æ—¶æ‰èƒ½æ›´å¾—å¿ƒåº”æ‰‹ã€‚å˜›ï¼Œæ€»ä¹‹ï¼Œæ—¢ç„¶é€‰æ‹©äº†è¿œæ–¹ï¼Œä¾¿åªé¡¾é£é›¨å…¼ç¨‹å§!</p><p><strong>æœ€åï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</strong><br>Q.E.DğŸŒ </p>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„å»ºå¤šå±‚ç½‘ç»œè§£å†³æ¬ æ‹ŸåˆåŒ–è®­ç»ƒå®æˆ˜</title>
      <link href="2022/08/06/%E6%9E%84%E5%BB%BA%E5%A4%9A%E5%B1%82%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%AC%A0%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E6%88%98/"/>
      <url>2022/08/06/%E6%9E%84%E5%BB%BA%E5%A4%9A%E5%B1%82%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%AC%A0%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>å½“å‰äººå·¥æ™ºèƒ½è¿˜æœªè¾¾åˆ°äººç±» 5 å²æ°´å¹³ï¼Œä¸è¿‡åœ¨æ„ŸçŸ¥æ–¹<br>é¢è¿›æ­¥é£å¿«ã€‚æœªæ¥åœ¨æœºå™¨è¯­éŸ³ã€è§†è§‰è¯†åˆ«é¢†åŸŸï¼Œäº”åˆ°å<br>å¹´å†…è¶…è¶Šäººç±»æ²¡æœ‰æ‚¬å¿µã€‚âˆ’æ²ˆå‘æ´‹</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†ç”Ÿæˆå·¥å…·</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers, Sequential</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">16</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;STKaiti&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">OUTPUT_DIR = <span class="string">&#x27;output_dir&#x27;</span></span><br><span class="line">N_EPOCHS = <span class="number">500</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_dataset</span>():</span></span><br><span class="line">    <span class="comment"># é‡‡æ ·ç‚¹æ•°</span></span><br><span class="line">    N_SAMPLES = <span class="number">1000</span></span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°é‡æ¯”ç‡</span></span><br><span class="line">    TEST_SIZE = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    X, y = make_moons(n_samples=N_SAMPLES, noise=<span class="number">0.25</span>, random_state=<span class="number">100</span>)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=TEST_SIZE, random_state=<span class="number">42</span>)</span><br><span class="line">    <span class="keyword">return</span> X, y, X_train, X_test, y_train, y_test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_plot</span>(<span class="params">X, y, plot_name, file_name, XX=<span class="literal">None</span>, YY=<span class="literal">None</span>, preds=<span class="literal">None</span>, dark=<span class="literal">False</span>, output_dir=OUTPUT_DIR</span>):</span></span><br><span class="line">    <span class="keyword">if</span> dark:</span><br><span class="line">        plt.style.use(<span class="string">&#x27;dark_background&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sns.set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">    axes = plt.gca()</span><br><span class="line">    axes.set_xlim([-<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    axes.set_ylim([-<span class="number">1.5</span>, <span class="number">2</span>])</span><br><span class="line">    axes.<span class="built_in">set</span>(xlabel=<span class="string">&quot;$x_1$&quot;</span>, ylabel=<span class="string">&quot;$x_2$&quot;</span>)</span><br><span class="line">    plt.title(plot_name, fontsize=<span class="number">20</span>, fontproperties=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line">    plt.subplots_adjust(left=<span class="number">0.20</span>)</span><br><span class="line">    plt.subplots_adjust(right=<span class="number">0.80</span>)</span><br><span class="line">    <span class="comment"># æ ¹æ®ç½‘ç»œè¾“å‡ºç»˜åˆ¶é¢„æµ‹æ›²é¢</span></span><br><span class="line">    <span class="keyword">if</span> (XX <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> YY <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> preds <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">        plt.contourf(XX, YY, preds.reshape(XX.shape), <span class="number">25</span>, alpha=<span class="number">0.08</span>, cmap=plt.cm.Spectral)</span><br><span class="line">        plt.contour(XX, YY, preds.reshape(XX.shape), levels=[<span class="number">.5</span>], cmap=<span class="string">&quot;Greys&quot;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">.6</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ­£è´Ÿæ ·æœ¬</span></span><br><span class="line">    markers = [<span class="string">&#x27;o&#x27;</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> y.ravel()]</span><br><span class="line">    mscatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y.ravel(), s=<span class="number">20</span>, cmap=plt.cm.Spectral, edgecolors=<span class="string">&#x27;none&#x27;</span>, m=markers, ax=axes)</span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line">    <span class="comment"># ä¿å­˜çŸ¢é‡å›¾</span></span><br><span class="line">    plt.savefig(file_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mscatter</span>(<span class="params">x, y, ax=<span class="literal">None</span>, m=<span class="literal">None</span>, **kw</span>):</span></span><br><span class="line">    <span class="keyword">import</span> matplotlib.markers <span class="keyword">as</span> mmarkers</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    sc = ax.scatter(x, y, **kw)</span><br><span class="line">    <span class="keyword">if</span> (m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(m) == <span class="built_in">len</span>(x)):</span><br><span class="line">        paths = []</span><br><span class="line">        <span class="keyword">for</span> marker <span class="keyword">in</span> m:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(marker, mmarkers.MarkerStyle):</span><br><span class="line">                marker_obj = marker</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                marker_obj = mmarkers.MarkerStyle(marker)</span><br><span class="line">            path = marker_obj.get_path().transformed(</span><br><span class="line">                marker_obj.get_transform())</span><br><span class="line">            paths.append(path)</span><br><span class="line">        sc.set_paths(paths)</span><br><span class="line">    <span class="keyword">return</span> sc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">network_layers_influence</span>(<span class="params">X_train, y_train</span>):</span></span><br><span class="line">    <span class="comment"># æ„å»º 5 ç§ä¸åŒå±‚æ•°çš„ç½‘ç»œ</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="comment"># åˆ›å»ºå®¹å™¨</span></span><br><span class="line">        model = Sequential()</span><br><span class="line">        <span class="comment"># åˆ›å»ºç¬¬ä¸€å±‚</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">8</span>, input_dim=<span class="number">2</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># æ·»åŠ  n å±‚ï¼Œå…± n+2 å±‚</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            model.add(layers.Dense(<span class="number">32</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># åˆ›å»ºæœ€æœ«å±‚</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">        <span class="comment"># æ¨¡å‹è£…é…ä¸è®­ç»ƒ</span></span><br><span class="line">        model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">        model.fit(X_train, y_train, epochs=N_EPOCHS, verbose=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># ç»˜åˆ¶ä¸åŒå±‚æ•°çš„ç½‘ç»œå†³ç­–è¾¹ç•Œæ›²çº¿</span></span><br><span class="line">        <span class="comment"># å¯è§†åŒ–çš„ x åæ ‡èŒƒå›´ä¸º[-2, 3]</span></span><br><span class="line">        xx = np.arange(-<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># å¯è§†åŒ–çš„ y åæ ‡èŒƒå›´ä¸º[-1.5, 2]</span></span><br><span class="line">        yy = np.arange(-<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># ç”Ÿæˆ x-y å¹³é¢é‡‡æ ·ç½‘æ ¼ç‚¹ï¼Œæ–¹ä¾¿å¯è§†åŒ–</span></span><br><span class="line">        XX, YY = np.meshgrid(xx, yy)</span><br><span class="line">        preds = model.predict_classes(np.c_[XX.ravel(), YY.ravel()])</span><br><span class="line">        title = <span class="string">&quot;ç½‘ç»œå±‚æ•°ï¼š&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span> + n)</span><br><span class="line">        file = <span class="string">&quot;ç½‘ç»œå®¹é‡_%i.png&quot;</span> % (<span class="number">2</span> + n)</span><br><span class="line">        make_plot(X_train, y_train, title, file, XX, YY, preds, output_dir=OUTPUT_DIR + <span class="string">&#x27;/network_layers&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    X, y, X_train, X_test, y_train, y_test = load_dataset()</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ•°æ®é›†åˆ†å¸ƒ</span></span><br><span class="line">    make_plot(X, y, <span class="literal">None</span>, <span class="string">&quot;æœˆç‰™å½¢çŠ¶äºŒåˆ†ç±»æ•°æ®é›†åˆ†å¸ƒ.svg&quot;</span>)</span><br><span class="line">    <span class="comment"># ç½‘ç»œå±‚æ•°çš„å½±å“</span></span><br><span class="line">    network_layers_influence(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dropoutè§£å†³è¿‡æ‹ŸåˆåŒ–è®­ç»ƒå®æˆ˜</title>
      <link href="2022/08/06/dropout%E8%A7%A3%E5%86%B3%E8%BF%87%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E4%BE%8B/"/>
      <url>2022/08/06/dropout%E8%A7%A3%E5%86%B3%E8%BF%87%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>ä¸€åˆ‡éƒ½åº”è¯¥å°½å¯èƒ½åœ°ç®€å•ï¼Œä½†ä¸èƒ½è¿‡äºç®€å•ã€‚<br>â€”è‰¾ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†ç”Ÿæˆå·¥å…·</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers, Sequential</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">16</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;STKaiti&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">OUTPUT_DIR = <span class="string">&#x27;output_dir&#x27;</span></span><br><span class="line">N_EPOCHS = <span class="number">500</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_dataset</span>():</span></span><br><span class="line">    <span class="comment"># é‡‡æ ·ç‚¹æ•°</span></span><br><span class="line">    N_SAMPLES = <span class="number">1000</span></span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°é‡æ¯”ç‡</span></span><br><span class="line">    TEST_SIZE = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    X, y = make_moons(n_samples=N_SAMPLES, noise=<span class="number">0.25</span>, random_state=<span class="number">100</span>)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=TEST_SIZE, random_state=<span class="number">42</span>)</span><br><span class="line">    <span class="keyword">return</span> X, y, X_train, X_test, y_train, y_test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_plot</span>(<span class="params">X, y, plot_name, file_name, XX=<span class="literal">None</span>, YY=<span class="literal">None</span>, preds=<span class="literal">None</span>, dark=<span class="literal">False</span>, output_dir=OUTPUT_DIR</span>):</span></span><br><span class="line">    <span class="keyword">if</span> dark:</span><br><span class="line">        plt.style.use(<span class="string">&#x27;dark_background&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sns.set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">    axes = plt.gca()</span><br><span class="line">    axes.set_xlim([-<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    axes.set_ylim([-<span class="number">1.5</span>, <span class="number">2</span>])</span><br><span class="line">    axes.<span class="built_in">set</span>(xlabel=<span class="string">&quot;$x_1$&quot;</span>, ylabel=<span class="string">&quot;$x_2$&quot;</span>)</span><br><span class="line">    plt.title(plot_name, fontsize=<span class="number">20</span>, fontproperties=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line">    plt.subplots_adjust(left=<span class="number">0.20</span>)</span><br><span class="line">    plt.subplots_adjust(right=<span class="number">0.80</span>)</span><br><span class="line">    <span class="comment"># æ ¹æ®ç½‘ç»œè¾“å‡ºç»˜åˆ¶é¢„æµ‹æ›²é¢</span></span><br><span class="line">    <span class="keyword">if</span> (XX <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> YY <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> preds <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">        plt.contourf(XX, YY, preds.reshape(XX.shape), <span class="number">25</span>, alpha=<span class="number">0.08</span>, cmap=plt.cm.Spectral)</span><br><span class="line">        plt.contour(XX, YY, preds.reshape(XX.shape), levels=[<span class="number">.5</span>], cmap=<span class="string">&quot;Greys&quot;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">.6</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ­£è´Ÿæ ·æœ¬</span></span><br><span class="line">    markers = [<span class="string">&#x27;o&#x27;</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> y.ravel()]</span><br><span class="line">    mscatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y.ravel(), s=<span class="number">20</span>, cmap=plt.cm.Spectral, edgecolors=<span class="string">&#x27;none&#x27;</span>, m=markers, ax=axes)</span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line">    <span class="comment"># ä¿å­˜çŸ¢é‡å›¾</span></span><br><span class="line">    plt.savefig(file_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mscatter</span>(<span class="params">x, y, ax=<span class="literal">None</span>, m=<span class="literal">None</span>, **kw</span>):</span></span><br><span class="line">    <span class="keyword">import</span> matplotlib.markers <span class="keyword">as</span> mmarkers</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    sc = ax.scatter(x, y, **kw)</span><br><span class="line">    <span class="keyword">if</span> (m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(m) == <span class="built_in">len</span>(x)):</span><br><span class="line">        paths = []</span><br><span class="line">        <span class="keyword">for</span> marker <span class="keyword">in</span> m:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(marker, mmarkers.MarkerStyle):</span><br><span class="line">                marker_obj = marker</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                marker_obj = mmarkers.MarkerStyle(marker)</span><br><span class="line">            path = marker_obj.get_path().transformed(</span><br><span class="line">                marker_obj.get_transform())</span><br><span class="line">            paths.append(path)</span><br><span class="line">        sc.set_paths(paths)</span><br><span class="line">    <span class="keyword">return</span> sc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropout_influence</span>(<span class="params">X_train, y_train</span>):</span></span><br><span class="line">    <span class="comment"># æ„å»º 5 ç§ä¸åŒæ•°é‡ Dropout å±‚çš„ç½‘ç»œ</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="comment"># åˆ›å»ºå®¹å™¨</span></span><br><span class="line">        model = Sequential()</span><br><span class="line">        <span class="comment"># åˆ›å»ºç¬¬ä¸€å±‚</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">8</span>, input_dim=<span class="number">2</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        counter = <span class="number">0</span></span><br><span class="line">        <span class="comment"># ç½‘ç»œå±‚æ•°å›ºå®šä¸º 5</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">            model.add(layers.Dense(<span class="number">64</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># æ·»åŠ  n ä¸ª Dropout å±‚</span></span><br><span class="line">        <span class="keyword">if</span> counter &lt; n:</span><br><span class="line">            counter += <span class="number">1</span></span><br><span class="line">            model.add(layers.Dropout(rate=<span class="number">0.5</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¾“å‡ºå±‚</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">        <span class="comment"># æ¨¡å‹è£…é…</span></span><br><span class="line">        model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">        <span class="comment"># è®­ç»ƒ</span></span><br><span class="line">        model.fit(X_train, y_train, epochs=N_EPOCHS, verbose=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># ç»˜åˆ¶ä¸åŒ Dropout å±‚æ•°çš„å†³ç­–è¾¹ç•Œæ›²çº¿</span></span><br><span class="line">        <span class="comment"># å¯è§†åŒ–çš„ x åæ ‡èŒƒå›´ä¸º[-2, 3]</span></span><br><span class="line">        xx = np.arange(-<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># å¯è§†åŒ–çš„ y åæ ‡èŒƒå›´ä¸º[-1.5, 2]</span></span><br><span class="line">        yy = np.arange(-<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># ç”Ÿæˆ x-y å¹³é¢é‡‡æ ·ç½‘æ ¼ç‚¹ï¼Œæ–¹ä¾¿å¯è§†åŒ–</span></span><br><span class="line">        XX, YY = np.meshgrid(xx, yy)</span><br><span class="line">        preds = model.predict_classes(np.c_[XX.ravel(), YY.ravel()])</span><br><span class="line">        title = <span class="string">&quot;æ— Dropoutå±‚&quot;</span> <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">else</span> <span class="string">&quot;&#123;0&#125;å±‚ Dropoutå±‚&quot;</span>.<span class="built_in">format</span>(n)</span><br><span class="line">        file = <span class="string">&quot;Dropout_%i.png&quot;</span> % n</span><br><span class="line">        make_plot(X_train, y_train, title, file, XX, YY, preds, output_dir=OUTPUT_DIR + <span class="string">&#x27;/dropout&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    X, y, X_train, X_test, y_train, y_test = load_dataset()</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ•°æ®é›†åˆ†å¸ƒ</span></span><br><span class="line">    make_plot(X, y, <span class="literal">None</span>, <span class="string">&quot;æœˆç‰™å½¢çŠ¶äºŒåˆ†ç±»æ•°æ®é›†åˆ†å¸ƒ.svg&quot;</span>)</span><br><span class="line">    <span class="comment"># Dropoutçš„å½±å“</span></span><br><span class="line">    dropout_influence(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> Dropout </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CIFAR10è‡ªå®šä¹‰ç½‘ç»œå®æˆ˜</title>
      <link href="2022/08/05/CIFAR10%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C%E5%AE%9E%E6%88%98/"/>
      <url>2022/08/05/CIFAR10%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>äººå·¥æ™ºèƒ½éš¾é¢˜ä¸ä»…æ˜¯è®¡ç®—æœºç§‘å­¦é—®é¢˜ï¼Œæ›´æ˜¯æ•°å­¦ã€è®¤çŸ¥<br>ç§‘å­¦å’Œå“²å­¦é—®é¢˜ã€‚âˆ’ FranÃ§ois Chollet</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets, layers, optimizers, Sequential, metrics</span><br><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> keras</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="comment"># [0, 255] --&gt; [-1,1]</span></span><br><span class="line">    x = <span class="number">2</span> * tf.cast(x, dtype=tf.float32) / <span class="number">255.</span> - <span class="number">1.</span></span><br><span class="line">    y = tf.cast(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">128</span></span><br><span class="line"><span class="comment"># x --&gt; [32,32,3], y --&gt; [10k, 1]</span></span><br><span class="line">(x, y), (x_val, y_val) = datasets.cifar10.load_data()</span><br><span class="line">y = tf.squeeze(y)  <span class="comment"># [10k, 1] --&gt; [10k]</span></span><br><span class="line">y_val = tf.squeeze(y_val)</span><br><span class="line">y = tf.one_hot(y, depth=<span class="number">10</span>)  <span class="comment"># [50k, 10]</span></span><br><span class="line">y_val = tf.one_hot(y_val, depth=<span class="number">10</span>)  <span class="comment"># [10k, 10]</span></span><br><span class="line">print(<span class="string">&#x27;datasets:&#x27;</span>, x.shape, y.shape, x_val.shape, y_val.shape, x.<span class="built_in">min</span>(),</span><br><span class="line">      x.<span class="built_in">max</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºæ•°æ®é›†</span></span><br><span class="line">train_db = tf.data.Dataset.from_tensor_slices((x, y))</span><br><span class="line">train_db = train_db.<span class="built_in">map</span>(preprocess).shuffle(<span class="number">10000</span>).batch(batch_size)</span><br><span class="line">test_db = tf.data.Dataset.from_tensor_slices((x_val, y_val))</span><br><span class="line">test_db = test_db.<span class="built_in">map</span>(preprocess).batch(batch_size)</span><br><span class="line"></span><br><span class="line">sample = <span class="built_in">next</span>(<span class="built_in">iter</span>(train_db))</span><br><span class="line">print(<span class="string">&#x27;batch:&#x27;</span>, sample[<span class="number">0</span>].shape, sample[<span class="number">1</span>].shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºç½‘ç»œå¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDense</span>(<span class="params">layers.Layer</span>):</span></span><br><span class="line">    <span class="comment"># to replace standard layers.Dense()</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, inp_dim, outp_dim</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(MyDense, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.kernel = self.add_weight(<span class="string">&#x27;w&#x27;</span>, [inp_dim, outp_dim])</span><br><span class="line">        <span class="comment"># self.bias = self.add_weight(&#x27;b&#x27;, [outp_dim])</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span>(<span class="params">self, inputs, training=<span class="literal">None</span></span>):</span></span><br><span class="line">        x = inputs @ self.kernel</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰ç½‘ç»œå±‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyNetwork</span>(<span class="params">keras.Model</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(MyNetwork, self).__init__()</span><br><span class="line">        self.fc1 = MyDense(<span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>, <span class="number">256</span>)</span><br><span class="line">        self.fc2 = MyDense(<span class="number">256</span>, <span class="number">128</span>)</span><br><span class="line">        self.fc3 = MyDense(<span class="number">128</span>, <span class="number">64</span>)</span><br><span class="line">        self.fc4 = MyDense(<span class="number">64</span>, <span class="number">32</span>)</span><br><span class="line">        self.fc5 = MyDense(<span class="number">32</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span>(<span class="params">self, inputs, training=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;inputs: [b,32,32,3]&quot;&quot;&quot;</span></span><br><span class="line">        x = tf.reshape(inputs, [-<span class="number">1</span>, <span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>])</span><br><span class="line">        <span class="comment"># [b,32*32*3] --&gt; [b, 256]</span></span><br><span class="line">        x = self.fc1(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 256] --&gt; [b,128]</span></span><br><span class="line">        x = self.fc2(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 128] --&gt; [b,64]</span></span><br><span class="line">        x = self.fc3(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 64] --&gt; [b,32]</span></span><br><span class="line">        x = self.fc4(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 32] --&gt; [b,10]</span></span><br><span class="line">        x = self.fc5(x)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">network = MyNetwork()</span><br><span class="line"><span class="comment"># è£…é…</span></span><br><span class="line">network.<span class="built_in">compile</span>(optimizer=optimizers.Adam(lr=<span class="number">1e-3</span>),</span><br><span class="line">                loss=tf.losses.CategoricalCrossentropy(from_logits=<span class="literal">True</span>),</span><br><span class="line">                metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="comment"># è®­ç»ƒ</span></span><br><span class="line">network.fit(train_db, epochs=<span class="number">5</span>, validation_data=test_db, validation_freq=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">network.evaluate(test_db)</span><br><span class="line">network.save_weights(<span class="string">&#x27;ckpt/weights.ckpt&#x27;</span>)  <span class="comment"># æ¨¡å‹çš„ä¿å­˜</span></span><br><span class="line"><span class="keyword">del</span> network</span><br><span class="line">print(<span class="string">&#x27;saved to ckpt/weights.ckpt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡å‹çš„åŠ è½½</span></span><br><span class="line">network = MyNetwork()</span><br><span class="line">network.<span class="built_in">compile</span>(optimizer=optimizers.Adam(lr=<span class="number">1e-3</span>),</span><br><span class="line">                loss=tf.losses.CategoricalCrossentropy(from_logits=<span class="literal">True</span>),</span><br><span class="line">                metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">network.load_weights(<span class="string">&#x27;ckpt/weights.ckpt&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;loaded weights from file.&#x27;</span>)</span><br><span class="line"></span><br><span class="line">network.evaluate(test_db)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå®è·µç¬”è®°</title>
      <link href="2022/08/04/mygit/"/>
      <url>2022/08/04/mygit/</url>
      
        <content type="html"><![CDATA[<h1 id="gitå®è·µç¬”è®°"><a href="#gitå®è·µç¬”è®°" class="headerlink" title="gitå®è·µç¬”è®°"></a>gitå®è·µç¬”è®°</h1><h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><blockquote><p>ä»gitæœåŠ¡å™¨æ‹‰å–ä»£ç </p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/kelaner/demo.git</span><br></pre></td></tr></table></figure><h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><blockquote><p>é…ç½®å¼€å‘è€…ç”¨æˆ·åå’Œé‚®ç®±</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config user.name laner </span><br><span class="line"></span><br><span class="line">git config user.email lanercifang@outlook.com</span><br></pre></td></tr></table></figure><h2 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h2><blockquote><p>åˆå§‹åŒ–ä»“åº“</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git init</span><br><span class="line">git remote add `&lt;name&gt;` `&lt;url&gt;`</span><br><span class="line">//git remote origin https://github.com/kelaner/demo.git</span><br></pre></td></tr></table></figure><h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><blockquote><p>åˆ›å»ºã€é‡å‘½åã€æŸ¥çœ‹ã€åˆ é™¤é¡¹ç›®åˆ†æ”¯ï¼Œé€šè¿‡ Git åšé¡¹ç›®å¼€å‘æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨å¼€å‘åˆ†æ”¯ä¸­è¿›è¡Œï¼Œå¼€å‘å®Œæˆååˆå¹¶åˆ†æ”¯åˆ°ä¸»å¹²ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">åˆ›å»ºä¸€ä¸ªåä¸º daily/0.0.0 çš„æ—¥å¸¸å¼€å‘åˆ†æ”¯:</span><br><span class="line"></span><br><span class="line">git branch daily/0.0.0</span><br><span class="line"></span><br><span class="line">ä¸ºæ–°å»ºçš„åˆ†æ”¯é‡å‘½å:</span><br><span class="line">git branch -m daily/0.0.0 daily/0.0.1</span><br><span class="line"></span><br><span class="line">é€šè¿‡ä¸å¸¦å‚æ•°çš„branchå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰é¡¹ç›®åˆ†æ”¯åˆ—è¡¨:</span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">é€šè¿‡ -d å‚æ•°å°†åˆ†æ”¯åˆ é™¤:</span><br><span class="line">git branch -d daily/0.0.1</span><br></pre></td></tr></table></figure><h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><blockquote><p>åˆ‡æ¢åˆ†æ”¯</p></blockquote><blockquote><p>åˆ‡æ¢åˆ° daily/0.0.1 åˆ†æ”¯:<br>git checkout daily/0.0.1</p></blockquote><h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><blockquote><p>æŸ¥çœ‹æ–‡ä»¶å˜åŠ¨çŠ¶æ€</p></blockquote><h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h2><blockquote><p>æ·»åŠ æ–‡ä»¶å˜åŠ¨åˆ°æš‚å­˜åŒº</p></blockquote><blockquote><p>git add -p<br>æ˜¾ç¤ºå½“å‰å†…å®¹ä¸æœ¬åœ°ç‰ˆæœ¬åº“ä¸­çš„å·®å¼‚ï¼Œç„¶åè‡ªå·±å†³å®šæ˜¯å¦æ·»åŠ è¿™äº›ä¿®æ”¹åˆ°æš‚å­˜åŒº:</p></blockquote><blockquote><p>åœ¨å‘½ä»¤è¡Œ Stage deletion [y,n,q,a,d,/,?]? åè¾“å…¥ y,n,q,a,d,/,? å…¶ä¸­ä¸€é¡¹é€‰æ‹©æ“ä½œæ–¹å¼ï¼Œå…·ä½“åŠŸèƒ½è§£é‡Šå¦‚ä¸‹ï¼š</p></blockquote><pre><code>yï¼šæ¥å—ä¿®æ”¹nï¼šå¿½ç•¥ä¿®æ”¹qï¼šé€€å‡ºå½“å‰å‘½ä»¤aï¼šæ·»åŠ ä¿®æ”¹dï¼šæ”¾å¼ƒä¿®æ”¹/ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¿®æ”¹å†…å®¹</code></pre><blockquote><p>å°†æŒ‡å®šæ–‡ä»¶å README.mdæ·»åŠ åˆ°æš‚å­˜åŒº:<br>git add README.md</p></blockquote><blockquote><p>æ·»åŠ æ‰€æœ‰æ–‡ä»¶:<br> git add . </p></blockquote><h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><blockquote><p>æäº¤æ–‡ä»¶å˜åŠ¨åˆ°ç‰ˆæœ¬åº“</p></blockquote><blockquote><p>é€šè¿‡ -m å‚æ•°å¯ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥æäº¤æè¿°æ–‡æœ¬:<br>git commit -m â€˜è¿™é‡Œå†™æäº¤åŸå› â€™</p></blockquote><h2 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h2><blockquote><p>å°†æœ¬åœ°çš„ä»£ç æ”¹åŠ¨æ¨é€åˆ°æœåŠ¡å™¨:<br><code>git push -u origin daily/0.0.1</code></p></blockquote><blockquote><p><code>-u</code> å‚æ•°ç›¸å½“äºè®°å½•äº†<code>push</code>åˆ°è¿œç«¯åˆ†æ”¯çš„é»˜è®¤å€¼ï¼Œè¿™æ ·å½“ä¸‹æ¬¡æˆ‘ä»¬è¿˜æƒ³è¦ç»§ç»­<code>push</code>çš„è¿™ä¸ªè¿œç«¯åˆ†æ”¯çš„æ—¶å€™æ¨é€å‘½ä»¤å°±å¯ä»¥ç®€å†™æˆ<code>git push</code>å³å¯ã€‚</p></blockquote><blockquote><p><code>origin</code> æŒ‡ä»£çš„æ˜¯å½“å‰çš„<code>git</code>æœåŠ¡å™¨åœ°å€ï¼Œè¿™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯æŠŠ<code>daily/0.0.1</code> åˆ†æ”¯æ¨é€åˆ°æœåŠ¡å™¨</p></blockquote><h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><blockquote><p>å°†æœåŠ¡å™¨ä¸Šçš„æœ€æ–°ä»£ç æ‹‰å–åˆ°æœ¬åœ°</p></blockquote><blockquote><p>git pull origin daily/0.0.1</p></blockquote><blockquote><p>å¦‚æœçº¿ä¸Šä»£ç åšäº†å˜åŠ¨ï¼Œè€Œä½ æœ¬åœ°çš„ä»£ç ä¹Ÿæœ‰å˜åŠ¨ï¼Œæ‹‰å–çš„ä»£ç å°±æœ‰å¯èƒ½ä¼šè·Ÿä½ æœ¬åœ°çš„æ”¹åŠ¨å†²çªï¼Œä¸€èˆ¬æƒ…å†µä¸‹ Git ä¼šè‡ªåŠ¨å¤„ç†è¿™ç§å†²çªåˆå¹¶ï¼Œä½†å¦‚æœæ”¹åŠ¨çš„æ˜¯åŒä¸€è¡Œï¼Œé‚£å°±éœ€è¦æ‰‹åŠ¨æ¥åˆå¹¶ä»£ç ï¼Œç¼–è¾‘æ–‡ä»¶ï¼Œä¿å­˜æœ€æ–°çš„æ”¹åŠ¨ï¼Œå†é€šè¿‡ git add . å’Œ git commit -m â€˜xxxâ€™ æ¥æäº¤åˆå¹¶ã€‚</p></blockquote><h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><blockquote><p>æŸ¥çœ‹ç‰ˆæœ¬æäº¤è®°å½•</p></blockquote><blockquote><p>æäº¤è®°å½•å¯èƒ½ä¼šéå¸¸å¤šï¼ŒæŒ‰ J é”®å¾€ä¸‹ç¿»ï¼ŒæŒ‰ K é”®å¾€ä¸Šç¿»ï¼ŒæŒ‰ Q é”®é€€å‡ºæŸ¥çœ‹</p></blockquote><h2 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h2><blockquote><p>ä¸ºé¡¹ç›®æ ‡è®°é‡Œç¨‹ç¢‘</p></blockquote><blockquote><p>git tag publish/0.0.1<br>git push origin publish/0.0.1</p></blockquote><h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><blockquote><p>è®¾ç½®å“ªäº›å†…å®¹ä¸éœ€è¦æ¨é€åˆ°æœåŠ¡å™¨ï¼Œè¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶</p></blockquote><blockquote><p>touch .gitignore<br>é€šè¿‡ä»¥ä¸Šå‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ª .gitignoreæ–‡ä»¶ï¼Œå¹¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¦å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½•</p></blockquote><blockquote><p>eg:<br>demo.html<br>build/<br>ä»¥ä¸Šå†…å®¹çš„æ„æ€æ˜¯ Git å°†å¿½ç•¥ demo.html æ–‡ä»¶ å’Œ build/ ç›®å½•ï¼Œè¿™äº›å†…å®¹ä¸ä¼šè¢«æ¨é€åˆ°æœåŠ¡å™¨ä¸Š</p></blockquote><h2 id="git-status-1"><a href="#git-status-1" class="headerlink" title="git status"></a>git status</h2><blockquote><p>git status -s<br>ä»¥ç®€çŸ­æ–¹å¼æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ–‡ä»¶çŠ¶æ€</p></blockquote><h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><blockquote><p>ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤æ–‡ä»¶</p></blockquote><blockquote><p>git rm b.md<br>ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤æ–‡ä»¶ b.md ï¼ŒåŒæ—¶æ·»åŠ å˜åŠ¨åˆ°æš‚å­˜åŒº</p></blockquote><h2 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h2><blockquote><p>ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€ç›®å½•</p></blockquote><blockquote><p>git mv a.md b.md -f<br>å°† a.md é‡å‘½åä¸º b.md ï¼ŒåŒæ—¶æ·»åŠ å˜åŠ¨åˆ°æš‚å­˜åŒºï¼ŒåŠ  -f å‚æ•°å¯ä»¥å¼ºåˆ¶é‡å‘½åï¼Œç›¸æ¯”ç”¨ mv a.md b.md å‘½ä»¤çœå»äº† git add æ“ä½œ</p></blockquote><h2 id="git-commit-è¡¥å……"><a href="#git-commit-è¡¥å……" class="headerlink" title="git commit(è¡¥å……)"></a>git commit(è¡¥å……)</h2><blockquote><p>æŠŠæš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“</p></blockquote><blockquote><p>git commit -m â€˜ç¬¬ä¸€è¡Œæäº¤åŸå› â€™  -m â€˜ç¬¬äºŒè¡Œæäº¤åŸå› â€™</p></blockquote><blockquote><p>ä¸æ‰“å¼€ç¼–è¾‘å™¨ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¤šè¡Œæäº¤åŸå› </p></blockquote><blockquote><p>git commit -am â€˜æäº¤åŸå› â€™</p></blockquote><blockquote><p>å°†å·¥ä½œåŒº ä¿®æ”¹ æˆ– åˆ é™¤ çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œ æ–°å¢ çš„æ–‡ä»¶ä¸ä¼šè¢«æäº¤</p></blockquote><blockquote><p>git commit â€“amend -m â€˜æäº¤åŸå› â€™</p></blockquote><blockquote><p>ä¿®æ”¹æœ€æ–°ä¸€æ¡æäº¤è®°å½•çš„æäº¤åŸå› </p></blockquote><blockquote><p>git commit -C HEAD</p></blockquote><blockquote><p>å°†å½“å‰æ–‡ä»¶æ”¹åŠ¨æäº¤åˆ° HEAD æˆ–å½“å‰åˆ†æ”¯çš„å†å²ID</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>FashionMNISTè¯†åˆ«å®æˆ˜</title>
      <link href="2022/08/03/FashionMNIST%E8%AF%86%E5%88%AB/"/>
      <url>2022/08/03/FashionMNIST%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h3 id="Tipsï¼š"><a href="#Tipsï¼š" class="headerlink" title="Tipsï¼š"></a>Tipsï¼š</h3><blockquote><p>äººå·¥æ™ºèƒ½å°†æ˜¯è°·æ­Œçš„æœ€ç»ˆç‰ˆæœ¬ã€‚å®ƒå°†æˆä¸ºç»ˆææœç´¢å¼•<br>æ“ï¼Œå¯ä»¥ç†è§£ç½‘ç»œä¸Šçš„ä¸€åˆ‡ä¿¡æ¯ã€‚å®ƒä¼šå‡†ç¡®åœ°ç†è§£ä½ <br>æƒ³è¦ä»€ä¹ˆï¼Œç»™ä½ éœ€è¦çš„ä¸œè¥¿ã€‚âˆ’æ‹‰é‡ŒÂ·ä½©å¥‡</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets, layers, optimizers, Sequential, metrics</span><br><span class="line"><span class="comment"># æ•°æ®é›†ç®¡ç† ç½‘æ ¼ç»“æ„ ä¼˜åŒ–å™¨ å®¹å™¨ æµ‹è¯•ç”¨åº¦é‡å™¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ•°æ®å¤„ç†å‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">    x = tf.cast(x, dtype=tf.float32) / <span class="number">255.</span></span><br><span class="line">    y = tf.cast(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ•°æ®</span></span><br><span class="line">(x, y), (x_test, y_test) = datasets.fashion_mnist.load_data()</span><br><span class="line">print(x.shape, y.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†trainæ•°æ®</span></span><br><span class="line">batch_size = <span class="number">128</span></span><br><span class="line">db = tf.data.Dataset.from_tensor_slices((x, y))</span><br><span class="line">db = db.<span class="built_in">map</span>(preprocess).shuffle(<span class="number">10000</span>).batch(batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†testæ•°æ®</span></span><br><span class="line">db_test = tf.data.Dataset.from_tensor_slices((x_test, y_test))</span><br><span class="line">db_test = db_test.<span class="built_in">map</span>(preprocess).batch(batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆtrainæ•°æ®çš„è¿­ä»£å™¨</span></span><br><span class="line">db_iter = <span class="built_in">iter</span>(db)</span><br><span class="line">sample = <span class="built_in">next</span>(db_iter)</span><br><span class="line">print(<span class="string">f&#x27;batch: <span class="subst">&#123;sample[<span class="number">0</span>].shape,sample[<span class="number">1</span>].shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾è®¡ç½‘ç»œç»“æ„</span></span><br><span class="line">model = Sequential([</span><br><span class="line">    layers.Dense(<span class="number">256</span>, activation=tf.nn.relu),  <span class="comment"># [b,784] --&gt; [b,256]</span></span><br><span class="line">    layers.Dense(<span class="number">128</span>, activation=tf.nn.relu),  <span class="comment"># [b,256] --&gt; [b,128]</span></span><br><span class="line">    layers.Dense(<span class="number">64</span>, activation=tf.nn.relu),  <span class="comment"># [b,128] --&gt; [b,64]</span></span><br><span class="line">    layers.Dense(<span class="number">32</span>, activation=tf.nn.relu),  <span class="comment"># [b,64] --&gt; [b,32]</span></span><br><span class="line">    layers.Dense(<span class="number">10</span>),  <span class="comment"># [b,32] --&gt; [b,10], 330=32*10+10</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">model.build(input_shape=[<span class="literal">None</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line">model.summary()  <span class="comment"># è°ƒè¯•</span></span><br><span class="line"><span class="comment"># w = w - lr*grad</span></span><br><span class="line">optimizer = optimizers.Adam(lr=<span class="number">1e-3</span>)  <span class="comment"># ä¼˜åŒ–å™¨ï¼ŒåŠ å¿«è®­ç»ƒé€Ÿåº¦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä¸»è¿è¡Œå‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># å¤šæ¬¡è¿­ä»£</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(db):  <span class="comment"># å®Œæˆæ•°æ®é›†çš„ä¸€æ¬¡è¿­ä»£</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># x:[b,28,28] --&gt; [b,784]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">                <span class="comment"># [b,784] --&gt; [b,10]</span></span><br><span class="line">                logits = model(x)  <span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">                y_onehot = tf.one_hot(y, depth=<span class="number">10</span>)</span><br><span class="line">                <span class="comment"># [b]</span></span><br><span class="line">                loss_mse = tf.reduce_mean(tf.losses.MSE(y_onehot, logits))</span><br><span class="line">                loss_ce = tf.reduce_mean(</span><br><span class="line">                    tf.losses.categorical_crossentropy(y_onehot,</span><br><span class="line">                                                       logits,</span><br><span class="line">                                                       from_logits=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line">            grads = tape.gradient(loss_ce, model.trainable_variables)</span><br><span class="line">            optimizer.apply_gradients(<span class="built_in">zip</span>(grads, model.trainable_variables))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">                print(epoch, step, <span class="string">f&#x27;loss: <span class="subst">&#123;<span class="built_in">float</span>(loss_ce),<span class="built_in">float</span>(loss_mse)&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># test</span></span><br><span class="line">        total_correct = <span class="number">0</span></span><br><span class="line">        total_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> db_test:</span><br><span class="line">            <span class="comment"># x:[b,28,28] --&gt; [b,784]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line">            <span class="comment"># [b,10]</span></span><br><span class="line">            logits = model(x)</span><br><span class="line">            <span class="comment"># logits --&gt; prob [b,10]</span></span><br><span class="line">            prob = tf.nn.softmax(logits, axis=<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># [b,10] --&gt; [b], (int64--&gt;) int32</span></span><br><span class="line">            pred = tf.argmax(prob, axis=<span class="number">1</span>)</span><br><span class="line">            pred = tf.cast(pred, dtype=tf.int32)</span><br><span class="line">            <span class="comment"># pred:[b]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            <span class="comment"># correct: [b], True: equal; False: not equal</span></span><br><span class="line">            correct = tf.equal(pred, y)</span><br><span class="line">            correct = tf.reduce_sum(tf.cast(correct, dtype=tf.int32))</span><br><span class="line"></span><br><span class="line">            total_correct += <span class="built_in">int</span>(correct)</span><br><span class="line">            total_num += x.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        acc = total_correct / total_num</span><br><span class="line">        print(epoch, <span class="string">f&#x27;test acc: <span class="subst">&#123;acc&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Himmelblauå‡½æ•°ä¼˜åŒ–å®æˆ˜</title>
      <link href="2022/08/03/Himmelblau%E5%87%BD%E6%95%B0%E4%BC%98%E5%8C%96/"/>
      <url>2022/08/03/Himmelblau%E5%87%BD%E6%95%B0%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><blockquote><p>å›é¦–å¾—è¶Šä¹…ï¼Œä½ ä¼šçœ‹å¾—è¶Šè¿œã€‚âˆ’æ¸©æ–¯é¡¿Â·ä¸˜å‰å°”</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">himmelblau</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (x[<span class="number">0</span>]**<span class="number">2</span> + x[<span class="number">1</span>] - <span class="number">11</span>)**<span class="number">2</span> + (x[<span class="number">0</span>] + x[<span class="number">1</span>]**<span class="number">2</span> - <span class="number">7</span>)**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = np.arange(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">0.1</span>)</span><br><span class="line">y = np.arange(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;x_shape: <span class="subst">&#123;x.shape&#125;</span>,y_shape: <span class="subst">&#123;y.shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆåæ ‡ç‚¹</span></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">print(<span class="string">f&#x27;X_shape: <span class="subst">&#123;X.shape&#125;</span>,Y_shape: <span class="subst">&#123;Y.shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Z = himmelblau([X, Y])</span><br><span class="line"></span><br><span class="line">fig = plt.figure(<span class="string">&#x27;himmelblau&#x27;</span>)</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">ax.plot_surface(X, Y, Z)</span><br><span class="line">ax.view_init(<span class="number">60</span>, -<span class="number">30</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">x = tf.constant([-<span class="number">4.</span>, <span class="number">0.</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">200</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">        tape.watch([x])</span><br><span class="line">        y = himmelblau(x)</span><br><span class="line"></span><br><span class="line">    grads = tape.gradient(y, [x])[<span class="number">0</span>]</span><br><span class="line">    x -= <span class="number">0.01</span> * grads</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> step % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">f&#x27;step: <span class="subst">&#123;step&#125;</span>, x: <span class="subst">&#123;x&#125;</span>, f(x): <span class="subst">&#123;y&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MNISTæ‰‹å†™æ•°å­—è¯†åˆ«ä¸å¯è§†åŒ–å®æˆ˜</title>
      <link href="2022/08/03/MNIST%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
      <url>2022/08/03/MNIST%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>å¾ˆéš¾æƒ³è±¡å“ªä¸€ä¸ªå¤§è¡Œä¸šä¸ä¼šè¢«äººå·¥æ™ºèƒ½æ”¹å˜ã€‚äººå·¥æ™º<br>èƒ½ä¼šåœ¨è¿™äº›è¡Œä¸šé‡Œå‘æŒ¥é‡å¤§ä½œç”¨ï¼Œè¿™ä¸ªèµ°å‘éå¸¸æ˜<br>æ˜¾ã€‚âˆ’å´æ©è¾¾</p></blockquote><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> tensorflow.python.keras <span class="keyword">as</span> keras</span><br><span class="line"><span class="keyword">from</span> tensorflow.python.keras <span class="keyword">import</span> layers</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"></span><br><span class="line">(x_train, y_train), (x_test, y_test) = mnist.load_data()</span><br><span class="line"></span><br><span class="line">x_train = x_train / <span class="number">255.0</span></span><br><span class="line">x_test = x_test / <span class="number">255.0</span></span><br><span class="line"></span><br><span class="line">model = keras.Sequential()</span><br><span class="line"></span><br><span class="line">model.add(layers.Flatten(input_shape=(<span class="number">28</span>, <span class="number">28</span>)))</span><br><span class="line">model.add(layers.Dense(<span class="number">128</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(layers.Dropout(<span class="number">0.2</span>))  <span class="comment"># è§£å†³è¿‡æ‹Ÿåˆçš„é—®é¢˜</span></span><br><span class="line">model.add(layers.Dense(<span class="number">10</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="string">&#x27;sparse_categorical_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"></span><br><span class="line">model.fit(x_train, y_train, epochs=<span class="number">5</span>)</span><br><span class="line">res = model.evaluate(x_test, y_test)</span><br><span class="line">print(model.metrics_names)</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        img_random = x_test[np.random.randint(num, <span class="built_in">len</span>(x_test))]</span><br><span class="line">        plt.imshow(img_random)</span><br><span class="line">        img_random = (np.expand_dims(img_random, <span class="number">0</span>))  <span class="comment"># æ‰©å±•ç»´åº¦ 0æ˜¯ä»£è¡¨çš„ç»´åº¦</span></span><br><span class="line">        prob = model.predict(img_random)</span><br><span class="line">        print(np.argmax(prob))  <span class="comment"># å–å‡ºæœ€å¤§å€¼çš„ç´¢å¼•</span></span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™æ•°å­—è¯†åˆ«æµç¨‹</title>
      <link href="2022/08/02/%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E6%B5%81%E7%A8%8B/"/>
      <url>2022/08/02/%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><blockquote><p>æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€å°å¯ä»¥ä»ç»éªŒä¸­å­¦ä¹ çš„æœºå™¨ã€‚<br>âˆ’é˜¿å…°Â·å›¾çµ</p></blockquote><h1 id="æ‰‹å†™æ•°å­—è¯†åˆ«æµç¨‹"><a href="#æ‰‹å†™æ•°å­—è¯†åˆ«æµç¨‹" class="headerlink" title="æ‰‹å†™æ•°å­—è¯†åˆ«æµç¨‹"></a>æ‰‹å†™æ•°å­—è¯†åˆ«æµç¨‹</h1><ul><li><p>MNISTæ‰‹å†™æ•°å­—é›†7000*10å¼ å›¾ç‰‡</p></li><li><p>60kå¼ å›¾ç‰‡è®­ç»ƒï¼Œ10kå¼ å›¾ç‰‡æµ‹è¯•</p></li><li><p>æ¯å¼ å›¾ç‰‡æ˜¯28<em>28ï¼Œå¦‚æœæ˜¯å½©è‰²å›¾ç‰‡æ˜¯28</em>28*3</p></li><li><p>0-255è¡¨ç¤ºå›¾ç‰‡çš„ç°åº¦å€¼ï¼Œ0è¡¨ç¤ºçº¯ç™½ï¼Œ255è¡¨ç¤ºçº¯é»‘</p></li><li><p>æ‰“å¹³28<em>28çš„çŸ©é˜µï¼Œå¾—åˆ°28</em>28=784çš„å‘é‡</p></li><li><p>å¯¹äºbå¼ å›¾ç‰‡å¾—åˆ°[b,784];ç„¶åå¯¹äºbå¼ å›¾ç‰‡å¯ä»¥ç»™å®šç¼–ç </p></li><li><p>æŠŠä¸Šè¿°çš„æ™®é€šç¼–ç ç»™å®šæˆç‹¬çƒ­ç¼–ç ï¼Œä½†æ˜¯ç‹¬çƒ­ç¼–ç éƒ½æ˜¯æ¦‚ç‡å€¼ï¼Œå¹¶ä¸”- æ¦‚ç‡å€¼ç›¸åŠ ä¸º1ï¼Œç±»ä¼¼äºsoftmaxå›å½’</p></li><li><p>å¥—ç”¨çº¿æ€§å›å½’å…¬å¼</p></li><li><p>X[b,784] W[784,10] b[10] å¾—åˆ° [b,10]</p></li><li><p>é«˜ç»´å›¾ç‰‡å®ç°éå¸¸å¤æ‚ï¼Œä¸€ä¸ªçº¿æ€§æ¨¡å‹æ— æ³•å®Œæˆï¼Œå› æ­¤å¯ä»¥æ·»åŠ éçº¿æ€§å› å­</p></li><li><p>f(X@W+b)ï¼Œä½¿ç”¨æ¿€æ´»å‡½æ•°è®©å…¶éçº¿æ€§åŒ–ï¼Œå¼•å‡ºreluå‡½æ•°</p></li><li><p>ç”¨äº†æ¿€æ´»å‡½æ•°ï¼Œæ¨¡å‹è¿˜æ˜¯å¤ªç®€å•</p></li><li><p>ä½¿ç”¨å·¥å‚</p><pre><code>  H1 =relu(X@W1+b1)  H2 = relu(h1@W2+b2)  Out = relu(h2@W3+b3)</code></pre></li><li><p>ç¬¬ä¸€æ­¥ï¼ŒæŠŠ[1,784]å˜æˆ[1,512]å˜æˆ[1,256]å˜æˆ[1,10]</p></li><li><p>å¾—åˆ°[1,10]åå°†ç»“æœè¿›è¡Œç‹¬çƒ­ç¼–ç </p></li><li><p>ä½¿ç”¨æ¬§æ°è·ç¦»æˆ–è€…ä½¿ç”¨mseè¿›è¡Œè¯¯å·®åº¦é‡</p></li><li><p>[1,784]é€šè¿‡ä¸‰å±‚ç½‘ç»œè¾“å‡ºä¸€ä¸ª[1,10]</p></li></ul><blockquote><p>å¼•ç”¨ï¼š<a href="https://www.cnblogs.com/nickchen121/p/10849484.html">https://www.cnblogs.com/nickchen121/p/10849484.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰å‘ä¼ æ’­å®æˆ˜</title>
      <link href="2022/08/01/forword/"/>
      <url>2022/08/01/forword/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>æˆ‘è®¾æƒ³åœ¨æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½å°±ç›¸å½“äºæœºå™¨äººçš„å® ç‰©ç‹—ï¼Œ<br>åˆ°é‚£æ—¶æˆ‘ä¹Ÿä¼šæ”¯æŒæœºå™¨äººçš„ã€‚âˆ’å…‹åŠ³å¾·Â·é¦™å†œ</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è®°å½•ä¸‹å­¦ä¹ <code>Tensorflow</code>è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªå®æˆ˜-å‰å‘ä¼ æ’­å®æˆ˜ï¼Œå°½å¯èƒ½è¯¦ç»†åœ°åšäº†ä»£ç æ³¨é‡Šï¼Œä¾¿äºç†è§£ä¸ä¹‹åçš„å›é¡¾ã€‚</p><h1 id="æ¦‚å¿µå¼•å…¥"><a href="#æ¦‚å¿µå¼•å…¥" class="headerlink" title="æ¦‚å¿µå¼•å…¥"></a>æ¦‚å¿µå¼•å…¥</h1><blockquote><p>å‰å‘ä¼ æ’­ï¼šç¥ç»ç½‘ç»œä»è¾“å…¥åˆ°è¾“å‡ºçš„è®¡ç®—è¿‡ç¨‹</p></blockquote><p>ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯æ•°æ®å¼ é‡(Tensor)ä»ç¬¬ä¸€å±‚æµåŠ¨(Flow)è‡³è¾“å‡ºå±‚çš„è¿‡ç¨‹ï¼Œå³ä»è¾“å…¥æ•°æ®å¼€å§‹ï¼Œé€”å¾„æ¯ä¸ªéšè—å±‚ï¼Œç›´è‡³å¾—åˆ°è¾“å‡ºå¹¶è®¡ç®—è¯¯å·®ï¼Œè¿™ä¹Ÿæ˜¯ <code>TensorFlow</code>æ¡†æ¶åå­—ç”±æ¥ã€‚</p><h1 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span>  <span class="comment"># å¿½ç•¥warning</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets  <span class="comment"># ç®¡ç†æ•°æ®é›†å·¥å…·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ•°æ®é›†</span></span><br><span class="line"><span class="comment"># x:[60k,28,28]</span></span><br><span class="line"><span class="comment"># y:[60k]</span></span><br><span class="line">(x, y), _ = datasets.mnist.load_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tensorè½¬æ¢</span></span><br><span class="line"><span class="comment"># x: [0~255] =&gt; [0~1.]</span></span><br><span class="line">x = tf.convert_to_tensor(x, dtype=tf.float32) / <span class="number">255.</span></span><br><span class="line">y = tf.convert_to_tensor(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">print(x.shape, y.shape, x.dtype, y.dtype)</span><br><span class="line">print(tf.reduce_min(x), tf.reduce_max(x))</span><br><span class="line">print(tf.reduce_min(y), tf.reduce_max(y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®é›†ï¼Œä¸€æ¬¡å–128ä¸ªæ•°å€¼</span></span><br><span class="line">train_db = tf.data.Dataset.from_tensor_slices((x, y)).batch(<span class="number">128</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºå åŠ å™¨</span></span><br><span class="line">train_iter = <span class="built_in">iter</span>(train_db)</span><br><span class="line">sample = <span class="built_in">next</span>(train_iter)  <span class="comment"># è¿­ä»£</span></span><br><span class="line">print(<span class="string">&#x27;batch:&#x27;</span>, sample[<span class="number">0</span>].shape, sample[<span class="number">1</span>].shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæƒå€¼</span></span><br><span class="line"><span class="comment"># [b, 784] =&gt; [b, 512] =&gt; [b, 128] =&gt; [b, 10]</span></span><br><span class="line"><span class="comment"># [dim_in, dim_out], [dim_out]</span></span><br><span class="line">w1 = tf.Variable(tf.random.truncated_normal([<span class="number">784</span>, <span class="number">256</span>], stddev=<span class="number">0.1</span>))  <span class="comment"># è§£å†³æ¢¯åº¦çˆ†ç‚¸(nan)</span></span><br><span class="line">b1 = tf.Variable(tf.zeros([<span class="number">256</span>]))</span><br><span class="line">w2 = tf.Variable(tf.random.truncated_normal([<span class="number">256</span>, <span class="number">128</span>], stddev=<span class="number">0.1</span>))</span><br><span class="line">b2 = tf.Variable(tf.zeros([<span class="number">128</span>]))</span><br><span class="line">w3 = tf.Variable(tf.random.truncated_normal([<span class="number">128</span>, <span class="number">10</span>], stddev=<span class="number">0.1</span>))</span><br><span class="line">b3 = tf.Variable(tf.zeros([<span class="number">10</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># learning rate</span></span><br><span class="line">lr = <span class="number">1e-3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ç»è¿ç®—</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># å¤šæ¬¡è¿­ä»£</span></span><br><span class="line">    <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_db):  <span class="comment"># å¯¹æ‰€æœ‰æ•°æ®é›†çš„å¾ªç¯</span></span><br><span class="line">        <span class="comment"># x: [128, 28, 28]</span></span><br><span class="line">        <span class="comment"># y: [128]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç»´åº¦å˜æ¢</span></span><br><span class="line">        <span class="comment"># [b, 28, 28] =&gt; [b, 28*28]</span></span><br><span class="line">        x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:  <span class="comment"># è‡ªåŠ¨æ±‚å¯¼ è‡ªåŠ¨è·Ÿè¸ªtf.Variable</span></span><br><span class="line">            <span class="comment"># æ¢¯åº¦è®¡ç®—</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># x: [b, 28*28]</span></span><br><span class="line">            <span class="comment"># h1 = x@w1 + b1</span></span><br><span class="line">            <span class="comment"># [b, 784]@[784, 256] + [256] =&gt; [b, 256] + [256] =&gt; [b, 256] + [b, 256]</span></span><br><span class="line">            h1 = x@w1 + tf.broadcast_to(b1, [x.shape[<span class="number">0</span>], <span class="number">256</span>])</span><br><span class="line">            h1 = tf.nn.relu(h1)  <span class="comment"># éçº¿æ€§è½¬æ¢</span></span><br><span class="line">            <span class="comment"># [b, 256] =&gt; [b, 128]</span></span><br><span class="line">            h2 = h1@w2 + b2</span><br><span class="line">            h2 = tf.nn.relu(h2)</span><br><span class="line">            <span class="comment"># [b, 128] =&gt; [b, 10]</span></span><br><span class="line">            out = h2@w3 + b3</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è®¡ç®—è¯¯å·®</span></span><br><span class="line">            <span class="comment"># out: [b,10]</span></span><br><span class="line">            <span class="comment"># y: [b] =&gt; [b, 10]</span></span><br><span class="line">            y_onehot = tf.one_hot(y, depth=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># å‡æ–¹å·®</span></span><br><span class="line">            <span class="comment"># mse = mean(sum(y-out)^2)</span></span><br><span class="line">            <span class="comment"># æ–¹å·®</span></span><br><span class="line">            <span class="comment"># [b, 10]</span></span><br><span class="line">            loss = tf.square(y_onehot - out)</span><br><span class="line">            <span class="comment"># å‡å€¼</span></span><br><span class="line">            <span class="comment"># mean: scalar</span></span><br><span class="line">            loss = tf.reduce_mean(loss)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¾—åˆ°æ¢¯åº¦</span></span><br><span class="line">        grads = tape.gradient(loss, [w1, b1, w2, b2, w3, b3])</span><br><span class="line">        <span class="comment"># w1 = w1 - lr * w1_grad</span></span><br><span class="line">        <span class="comment"># assign_sub åŸåœ°æ›´æ–°(ç±»å‹ä¸å˜)</span></span><br><span class="line">        w1.assign_sub(lr * grads[<span class="number">0</span>])</span><br><span class="line">        b1.assign_sub(lr * grads[<span class="number">1</span>])</span><br><span class="line">        w2.assign_sub(lr * grads[<span class="number">2</span>])</span><br><span class="line">        b2.assign_sub(lr * grads[<span class="number">3</span>])</span><br><span class="line">        w3.assign_sub(lr * grads[<span class="number">4</span>])</span><br><span class="line">        b3.assign_sub(lr * grads[<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            print(epoch, step, <span class="string">&#x27;loss:&#x27;</span>, <span class="built_in">float</span>(loss))</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">(60000, 28, 28) (60000,) &lt;dtype: <span class="string">&#x27;float32&#x27;</span>&gt; &lt;dtype: <span class="string">&#x27;int32&#x27;</span>&gt;</span><br><span class="line">tf.Tensor(0.0, shape=(), dtype=float32) tf.Tensor(1.0, shape=(), dtype=float32)</span><br><span class="line">tf.Tensor(0, shape=(), dtype=int32) tf.Tensor(9, shape=(), dtype=int32)</span><br><span class="line">batch: (128, 28, 28) (128,)</span><br><span class="line">0 0 loss: 0.33976617455482483</span><br><span class="line">0 100 loss: 0.1958806812763214</span><br><span class="line">0 200 loss: 0.18718643486499786</span><br><span class="line">0 300 loss: 0.15601249039173126</span><br><span class="line">0 400 loss: 0.17516227066516876</span><br><span class="line">1 0 loss: 0.1537063717842102</span><br><span class="line">1 100 loss: 0.14795097708702087</span><br><span class="line">1 200 loss: 0.15245798230171204</span><br><span class="line">1 300 loss: 0.1325622797012329</span><br><span class="line">1 400 loss: 0.14938321709632874</span><br><span class="line">2 0 loss: 0.1319803148508072</span><br><span class="line">2 100 loss: 0.13147899508476257</span><br><span class="line">2 200 loss: 0.13439854979515076</span><br><span class="line">2 300 loss: 0.1185288205742836</span><br><span class="line">2 400 loss: 0.13274045288562775</span><br><span class="line">3 0 loss: 0.1175210028886795</span><br><span class="line">3 100 loss: 0.12028291076421738</span><br><span class="line">3 200 loss: 0.12187065184116364</span><br><span class="line">3 300 loss: 0.10856960713863373</span><br><span class="line">3 400 loss: 0.12117012590169907</span><br><span class="line">4 0 loss: 0.10719207674264908</span><br><span class="line">4 100 loss: 0.11207938194274902</span><br><span class="line">4 200 loss: 0.11259110271930695</span><br><span class="line">4 300 loss: 0.10115315020084381</span><br><span class="line">4 400 loss: 0.11270163208246231</span><br><span class="line">5 0 loss: 0.09946105629205704</span><br><span class="line">5 100 loss: 0.10572906583547592</span><br><span class="line">5 200 loss: 0.10535679757595062</span><br><span class="line">5 300 loss: 0.09530024230480194</span><br><span class="line">5 400 loss: 0.10628950595855713</span><br><span class="line">6 0 loss: 0.09349677711725235</span><br><span class="line">6 100 loss: 0.10055620968341827</span><br><span class="line">6 200 loss: 0.09956973791122437</span><br><span class="line">6 300 loss: 0.09057899564504623</span><br><span class="line">6 400 loss: 0.10117393732070923</span><br><span class="line">7 0 loss: 0.08874528855085373</span><br><span class="line">7 100 loss: 0.09627220034599304</span><br><span class="line">7 200 loss: 0.09485194087028503</span><br><span class="line">7 300 loss: 0.08672039955854416</span><br><span class="line">7 400 loss: 0.0969923660159111</span><br><span class="line">8 0 loss: 0.08484948426485062</span><br><span class="line">8 100 loss: 0.09272643178701401</span><br><span class="line">8 200 loss: 0.09091418981552124</span><br><span class="line">8 300 loss: 0.08345989137887955</span><br><span class="line">8 400 loss: 0.09351988136768341</span><br><span class="line">9 0 loss: 0.08157537877559662</span><br><span class="line">9 100 loss: 0.08971865475177765</span><br><span class="line">9 200 loss: 0.08754660189151764</span><br><span class="line">9 300 loss: 0.08066332340240479</span><br><span class="line">9 400 loss: 0.09057702869176865</span><br><span class="line"></span><br><span class="line">è¿›ç¨‹å·²ç»“æŸ,é€€å‡ºä»£ç 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><ul><li>1.è¯¦ç»†è®²è§£æ•°æ®é›†çš„åŠ è½½</li><li>2.è§£å†³æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„åŸç†</li><li>3.<code>tf.GradientTape(</code>)ä»£ç è®²è§£</li><li>4.ä»¥ç®€ä¾¿ä»£ç å®Œæˆ<code>compute gradients</code>è¿‡ç¨‹</li></ul><h1 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h1><p>æ­¤æ¬¡å®æˆ˜åŸºäºå¯¹<code>MNIST</code>æ‰‹å†™æ•°å­—é›†çš„è¯†åˆ«ï¼Œç»“åˆæµç¨‹ä»¥æ›´å¥½åœ°ç†è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æˆ˜ </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React Hookï¼Œä¾¿æ·ä¸”åŠŸèƒ½å¼ºå¤§</title>
      <link href="2022/07/28/hook/"/>
      <url>2022/07/28/hook/</url>
      
        <content type="html"><![CDATA[<h2 id="useStateåŸºç¡€ä½¿ç”¨"><a href="#useStateåŸºç¡€ä½¿ç”¨" class="headerlink" title="useStateåŸºç¡€ä½¿ç”¨"></a>useStateåŸºç¡€ä½¿ç”¨</h2><ul><li>1.å¯¼å…¥<code>useState</code>å‡½æ•°  <code>react</code></li><li>2.æ‰§è¡Œè¿™ä¸ªå‡½æ•°å¹¶ä¸”ä¼ å…¥åˆå§‹å€¼å¿…é¡»åœ¨å‡½æ•°ç»„ä»¶ä¸­</li><li>3.[æ•°æ®ï¼Œä¿®æ”¹æ•°æ®çš„æ–¹æ³•]</li><li>4.ä½¿ç”¨æ•°æ®ä¿®æ”¹æ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//ç´¯åŠ è¿ç®—</span></span><br><span class="line">    <span class="keyword">const</span> [count,setCount] = useState (<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;button onclick=&#123;()=setCount (count + <span class="number">1</span>)&#125;&gt;&#123;count&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="useStateçŠ¶æ€çš„è¯»å–å’Œä¿®æ”¹"><a href="#useStateçŠ¶æ€çš„è¯»å–å’Œä¿®æ”¹" class="headerlink" title="useStateçŠ¶æ€çš„è¯»å–å’Œä¿®æ”¹"></a>useStateçŠ¶æ€çš„è¯»å–å’Œä¿®æ”¹</h2><blockquote><p>const [count,setCount] = useState(0)</p></blockquote><ul><li>1,<code>useState</code>ä¼ è¿‡æ¥çš„å‚æ•°,ä½œä¸º<code>count</code>çš„åˆå§‹å€¼</li><li>2.[count,setCount]    è¿™é‡Œçš„å†™æ³•æ˜¯ä¸€ä¸ª<code>è§£æ„èµ‹å€¼</code><br><code>useState</code>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„<ul><li>åå­—å¯ä»¥è‡ªå®šä¹‰å—ï¼Ÿ-&gt;å¯ä»¥è‡ªå®šä¹‰ä¿æŒè¯­ä¹‰åŒ–</li><li>é¡ºåºå¯ä»¥æ¢å—ï¼Ÿ-&gt;ä¸å¯ä»¥çš„    ç¬¬ä¸€å‚æ•°å°±æ˜¯æ•°æ®çŠ¶æ€,ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¿®æ”¹æ•°æ®çš„æ–¹æ³•</li></ul></li><li>3.<code>setCount</code>å‡½æ•°  ä½œç”¨:ç”¨æ¥ä¿®æ”¹count,ä¾æ—§ä¿æŒä¸èƒ½ç›´æ¥ä¿®æ”¹åŸå€¼è¿˜æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°å€¼æ›¿æ¢åŸå€¼<ul><li><code>setCount</code>(åŸºäºåŸå€¼è®¡ç®—å¾—åˆ°çš„æ–°å€¼)</li></ul></li><li>4.<code>count</code>å’Œ<code>setCount</code>æ˜¯ä¸€å¯¹æ˜¯ç»‘åœ¨ä¸€èµ·çš„<code>setCount</code>åªèƒ½ç”¨æ¥ä¿®æ”¹å¯¹åº”çš„<code>count</code>å€¼</li></ul><h2 id="useStateç»„ä»¶æ›´æ–°è¿‡ç¨‹"><a href="#useStateç»„ä»¶æ›´æ–°è¿‡ç¨‹" class="headerlink" title="useStateç»„ä»¶æ›´æ–°è¿‡ç¨‹"></a>useStateç»„ä»¶æ›´æ–°è¿‡ç¨‹</h2><p>ç»„ä»¶çš„æ›´æ–° - å½“è°ƒç”¨<code>setCount</code>çš„æ—¶å€™æ›´æ–°è¿‡ç¨‹</p><blockquote><p>é¦–æ¬¡æ¸²æŸ“</p></blockquote><ul><li>é¦–æ¬¡è¢«æ¸²æŸ“çš„æ—¶å€™ç»„ä»¶å†…éƒ¨çš„ä»£ç ä¼šè¢«æ‰§è¡Œä¸€æ¬¡</li><li>å…¶ä¸­<code>useState</code>ä¹Ÿä¼šè·Ÿç€æ‰§è¡Œè¿™é‡Œé‡ç‚¹æ³¨æ„<code>åˆå§‹å€¼åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶ç”Ÿæ•ˆ</code></li></ul><blockquote><p>æ›´æ–°æ¸²æŸ“  //setCountéƒ½ä¼šæ›´æ–°</p></blockquote><ul><li>Appç»„ä»¶ä¼šå†æ¬¡æ¸²æŸ“è¿™ä¸ªå‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œ</li><li><code>useState</code>å†æ¬¡æ‰§è¡Œå¾—åˆ°çš„æ–°çš„<code>count</code>å€¼ä¸æ˜¯0è€Œæ˜¯ä¿®æ”¹ä¹‹åçš„1æ¨¡æ¿ä¼šç”¨æ–°å€¼æ¸²æŸ“</li></ul><blockquote><p>é‡ç‚¹ä¸€å¥è¯ï¼š</p></blockquote><ul><li><code>useState</code>åˆå§‹å€¼åªåœ¨é¦–æ¬¡æ¸²æŸ“ç”Ÿæ•ˆ,åç»­åªè¦è°ƒç”¨<code>setCount</code>,æ•´ä¸ªappä¸­ä»£ç éƒ½ä¼šæ‰§è¡Œ,æ­¤æ—¶çš„<code>count</code>æ¯æ¬¡æ‹¿åˆ°çš„éƒ½æ˜¯æœ€æ–°å€¼</li></ul><h2 id="useStateæ³¨æ„äº‹é¡¹"><a href="#useStateæ³¨æ„äº‹é¡¹" class="headerlink" title="useStateæ³¨æ„äº‹é¡¹"></a>useStateæ³¨æ„äº‹é¡¹</h2><ul><li><p>1.åªèƒ½å‡ºç°åœ¨å‡½æ•°ç»„ä»¶ä¸­</p></li><li><p>2.<strong>ä¸èƒ½åµŒå¥—åœ¨if/for/å…¶å®ƒå‡½æ•°ä¸­</strong>(reactæŒ‰ç…§hooksçš„è°ƒç”¨é¡ºåºè¯†åˆ«æ¯ä¸€ä¸ªhook)</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num++</span><br><span class="line">    <span class="keyword">if</span>(num/<span class="number">2</span>==<span class="number">6</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span>[name,setName]=useState(<span class="string">&quot;cp&#x27;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">    const [list,setList]useState([])</span></span><br><span class="line"><span class="string">//ä¿©ä¸ªhookçš„é¡ºåºä¸æ˜¯å›ºå®šçš„ï¼Œè¿™æ˜¯ä¸å¯ä»¥çš„ï¼ï¼ï¼</span></span><br></pre></td></tr></table></figure></li><li><p>3.å¯ä»¥é€šè¿‡å¼€å‘è€…å·¥å…·æŸ¥çœ‹hooksçŠ¶æ€</p></li></ul><h2 id="useEffect-â€œå®šä¹‰å‰¯ä½œç”¨â€"><a href="#useEffect-â€œå®šä¹‰å‰¯ä½œç”¨â€" class="headerlink" title="useEffect â€œå®šä¹‰å‰¯ä½œç”¨â€"></a>useEffect â€œå®šä¹‰å‰¯ä½œç”¨â€</h2><blockquote><p>è¿™ä¸ªhookå¯ä»¥ä»£æ›¿ç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p></blockquote><blockquote><p>ä¾èµ–é¡¹æ§åˆºå‰¯ä½œç”¨çš„æ‰§è¡Œæ—¶æœº</p></blockquote><ul><li>1.é»˜è®¤çŠ¶æ€ï¼ˆæ— ä¾èµ–é¡¹ï¼‰<br>ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å…ˆæ‰§è¡Œä¸€æ¬¡ç­‰åˆ°æ¯æ¬¡æ•°æ®ä¿®æ”¹ç»„ä»¶æ›´æ–°å†æ¬¡æ‰§è¡Œ</li><li>2.æ·»åŠ ä¸€ä¸ªç©ºæ•°ç»„ä¾èµ–é¡¹<br>ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å‰¯ä½œç”¨æ‰§è¡Œäº†&quot;)</span></span><br><span class="line"><span class="string">&#125;,[])</span></span><br></pre></td></tr></table></figure></li><li>3.æ·»åŠ ç‰¹å®šä¾èµ–é¡¹<blockquote><p>ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ä¾èµ–çš„ç‰¹å®šé¡¹å‘ç”Ÿå˜åŒ–ä¼šå†æ¬¡æ‰§è¡Œ</p></blockquote></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span>[count,setCount]=useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [name,setName]useState(<span class="string">&#x27;zs&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    useEffect(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;å‰¯ä½œç”¨æ‰§è¡Œäº†&#x27;</span>)</span><br><span class="line">    &#125;,[count])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        &lt;&gt;</span><br><span class="line">        &lt;button onClick=<span class="function">()=&gt;</span>&#123;setCount(count <span class="number">1</span>)&#125;&#125;&gt;&#123;count)&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=<span class="function">()=&gt;</span>&#123;setName(<span class="string">&#x27;cp&#x27;</span>)&#125;&#125;&gt;&#123;name&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>æ³¨æ„äº‹é¡¹</code><br>useEffectå›è°ƒå‡½æ•°ä¸­ç”¨åˆ°çš„æ•°æ®ï¼ˆæ¯”å¦‚ï¼Œcount)å°±æ˜¯ä¾èµ–æ•°æ®ï¼Œå°±åº”è¯¥å‡ºç°åœ¨ä¾èµ–é¡¹æ•°ç»„ä¸­ï¼Œå¦‚æœä¸æ·»åŠ ä¾èµ–é¡¹å°±ä¼šæœ‰bugå‡ºç°</p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»„ä»¶&amp;Props</title>
      <link href="2022/07/26/props/"/>
      <url>2022/07/26/props/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>â€œå‡½æ•°ç»„ä»¶â€æœ¬è´¨ä¸Šå°±æ˜¯ JavaScript å‡½æ•°</p></blockquote><h2 id="classç»„ä»¶"><a href="#classç»„ä»¶" class="headerlink" title="classç»„ä»¶"></a>classç»„ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¸²æŸ“ç»„ä»¶"><a href="#æ¸²æŸ“ç»„ä»¶" class="headerlink" title="æ¸²æŸ“ç»„ä»¶"></a>æ¸²æŸ“ç»„ä»¶</h2><p>å½“ React å…ƒç´ ä¸ºç”¨æˆ·è‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œå®ƒä¼šå°† JSX æ‰€æ¥æ”¶çš„<code>å±æ€§</code>ï¼ˆattributesï¼‰ä»¥åŠ<code>å­ç»„ä»¶</code>ï¼ˆchildrenï¼‰è½¬æ¢ä¸ºå•ä¸ªå¯¹è±¡ä¼ é€’ç»™ç»„ä»¶ï¼Œè¿™ä¸ªå¯¹è±¡è¢«ç§°ä¹‹ä¸º â€œ<code>props</code>â€ã€‚</p><p>ä¾‹å¦‚ï¼Œè¿™æ®µä»£ç ä¼šåœ¨é¡µé¢ä¸Šæ¸²æŸ“ â€œHello, Saraâ€ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = ReactDOM.createRoot(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">&quot;Sara&quot;</span> /&gt;</span></span>;</span><br><span class="line">root.render(element);</span><br></pre></td></tr></table></figure><p>å›é¡¾ä¸€ä¸‹è¿™ä¸ªä¾‹å­ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p><ul><li>è°ƒç”¨<code>root.render()</code>å‡½æ•°ï¼Œå¹¶ä¼ å…¥<code> &lt;Welcome name=&quot;Sara&quot; /&gt;</code> ä½œä¸ºå‚æ•°ã€‚</li><li>React è°ƒç”¨<code> Welcome</code> ç»„ä»¶ï¼Œå¹¶å°† <code>&#123;name: &#39;Sara&#39;&#125; </code>ä½œä¸º<code>props</code>ä¼ å…¥ã€‚</li><li>Welcome ç»„ä»¶å°† <code>&lt;h1&gt;Hello, Sara&lt;/h1&gt; </code>å…ƒç´ ä½œä¸ºè¿”å›å€¼ã€‚</li><li>React DOM å°† DOM é«˜æ•ˆåœ°æ›´æ–°ä¸º <code>&lt;h1&gt;Hello, Sara&lt;/h1&gt;</code>ã€‚</li></ul><blockquote><p><strong>æ³¨æ„ï¼š ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´!!!</strong><br>React ä¼šå°†ä»¥å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶è§†ä¸ºåŸç”Ÿ DOM æ ‡ç­¾ã€‚ä¾‹å¦‚ï¼Œ<code>&lt;div /&gt;</code> ä»£è¡¨ HTML çš„ div æ ‡ç­¾ï¼Œè€Œ <code>&lt;Welcome /&gt; </code>åˆ™ä»£è¡¨ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”éœ€åœ¨ä½œç”¨åŸŸå†…ä½¿ç”¨ <code>Welcome</code>ã€‚</p></blockquote><h2 id="ç»„åˆç»„ä»¶"><a href="#ç»„åˆç»„ä»¶" class="headerlink" title="ç»„åˆç»„ä»¶"></a>ç»„åˆç»„ä»¶</h2><blockquote><p>ç»„ä»¶å¯ä»¥åœ¨å…¶è¾“å‡ºä¸­å¼•ç”¨å…¶ä»–ç»„ä»¶</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Sara&quot;</span> /&gt;      </span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Cahal&quot;</span> /&gt;      </span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Edite&quot;</span> /&gt;    </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æå–ç»„ä»¶"><a href="#æå–ç»„ä»¶" class="headerlink" title="æå–ç»„ä»¶"></a>æå–ç»„ä»¶</h2><blockquote><p>å°†ç»„ä»¶æ‹†åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ã€‚</p></blockquote><p>å‚è€ƒå¦‚ä¸‹<code>Comment</code>ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;img className=<span class="string">&quot;Avatar&quot;</span></span><br><span class="line">          src=&#123;props.author.avatarUrl&#125;</span><br><span class="line">          alt=&#123;props.author.name&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ç»„ä»¶ç”±äºåµŒå¥—çš„å…³ç³»ï¼Œå˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œä¸”å¾ˆéš¾å¤ç”¨å®ƒçš„å„ä¸ªéƒ¨åˆ†ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»ä¸­æå–ä¸€äº›ç»„ä»¶å‡ºæ¥ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†æå– <code>Avatar</code> ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Avatar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;img className=<span class="string">&quot;Avatar&quot;</span>   </span><br><span class="line">            src=&#123;props.user.avatarUrl&#125;     </span><br><span class="line">            alt=&#123;props.user.name&#125;    </span><br><span class="line">        /&gt; </span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Avatar </code>ä¸éœ€çŸ¥é“å®ƒåœ¨ <code>Comment </code>ç»„ä»¶å†…éƒ¨æ˜¯å¦‚ä½•æ¸²æŸ“çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç»™å®ƒçš„ <code>props </code>èµ·äº†ä¸€ä¸ªæ›´é€šç”¨çš„åå­—ï¼š<code>user</code>ï¼Œè€Œä¸æ˜¯ <code>author</code>ã€‚</p><blockquote><p>æˆ‘ä»¬å»ºè®®ä»<code>ç»„ä»¶è‡ªèº«çš„è§’åº¦</code>å‘½å <code>props</code>ï¼Œè€Œä¸æ˜¯ä¾èµ–äºè°ƒç”¨ç»„ä»¶çš„ä¸Šä¸‹æ–‡å‘½åã€‚</p></blockquote><p>æˆ‘ä»¬ç°åœ¨é’ˆå¯¹ <code>Comment </code>åšäº›å¾®å°è°ƒæ•´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;Avatar user=&#123;props.author&#125; /&gt;      </span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œå°†æå– <code>UserInfo </code>ç»„ä»¶ï¼Œè¯¥ç»„ä»¶åœ¨ç”¨æˆ·åæ—æ¸²æŸ“ <code>Avatar</code> ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserInfo</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;Avatar user=&#123;props.user&#125; /&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">            &#123;props.user.name&#125; </span><br><span class="line">        &lt;/div&gt;   </span><br><span class="line">    &lt;/div&gt;  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿›ä¸€æ­¥ç®€åŒ– <code>Comment </code>ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;UserInfo user=&#123;props.author&#125; /&gt;      </span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å°æ€»ç»“ï¼šæå–ç»„ä»¶å¯èƒ½ç¹é‡ï¼Œä½†å€¼å¾—</p></blockquote><h2 id="Props-çš„åªè¯»æ€§"><a href="#Props-çš„åªè¯»æ€§" class="headerlink" title="Props çš„åªè¯»æ€§"></a>Props çš„åªè¯»æ€§</h2><p>ç»„ä»¶æ— è®ºæ˜¯ä½¿ç”¨<code>å‡½æ•°å£°æ˜è¿˜æ˜¯é€šè¿‡ class å£°æ˜</code>ï¼Œéƒ½<code>ç»ä¸èƒ½</code>ä¿®æ”¹è‡ªèº«çš„ <code>props</code>ã€‚</p><blockquote><p>React éå¸¸çµæ´»ï¼Œä½†å®ƒä¹Ÿæœ‰ä¸€ä¸ªä¸¥æ ¼çš„è§„åˆ™ï¼š</p></blockquote><p><strong>æ‰€æœ‰ <code>React</code> ç»„ä»¶éƒ½å¿…é¡»åƒçº¯å‡½æ•°ä¸€æ ·ä¿æŠ¤å®ƒä»¬çš„ <code>props </code>ä¸è¢«æ›´æ”¹</strong></p><h2 id="ç»„ä»¶é€šè®¯"><a href="#ç»„ä»¶é€šè®¯" class="headerlink" title="ç»„ä»¶é€šè®¯"></a>ç»„ä»¶é€šè®¯</h2><h3 id="çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶</h3><ul><li>1.çˆ¶ç»„ä»¶æä¾›è¦ä¼ é€’çš„<code>state</code>æ•°æ®</li><li>2.ç»™å­ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§ï¼Œå€¼ä¸º<code>state</code>ä¸­çš„æ•°æ®</li><li>3.å­ç»„ä»¶ä¸­é€šè¿‡<code>props</code>æ¥æ”¶çˆ¶ç»„ä»¶ä¸­ä¼ é€’çš„æ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    state =&#123;<span class="attr">lastName</span>:<span class="string">&#x27;ç‹&#x27;</span>&#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">        ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶ï¼š&lt;Child name=&#123;<span class="built_in">this</span>.state.lastName&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>å­ç»„ä»¶æ¥æ”¶åˆ°æ•°æ®ï¼š&#123;props.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶"><a href="#å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶" class="headerlink" title="å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶"></a>å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶</h3><blockquote><p>æ€è·¯ï¼šåˆ©ç”¨å›è°ƒå‡½æ•°ï¼Œçˆ¶ç»„ä»¶æä¾›å›è°ƒï¼Œå­ç»„ä»¶è°ƒç”¨ï¼Œå°†è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p></blockquote><ul><li>1.çˆ¶ç»„ä»¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°(ç”¨äºæ¥æ”¶æ•°æ®)</li><li>2.å°†è¯¥å‡½æ•°ä½œä¸ºå±æ€§çš„å€¼ï¼Œä¼ é€’ç»™å­ç»„ä»¶</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    getchildMsg = <span class="function">(<span class="params">msg</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æ¥æ”¶åˆ°å­ç»„ä»¶æ•°æ®&#x27;</span>ï¼Œmsg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                å­ç»„ä»¶ï¼š&lt;Child getMsg=&#123;<span class="built_in">this</span>.getchildMsg&#125;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>3.å­ç»„ä»¶é€šè¿‡propsè°ƒç”¨å›è°ƒå‡½æ•°</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    state =&#123;<span class="attr">childMsg</span>:<span class="string">&#x27;React&#x27;</span>&#125;</span><br><span class="line">    handleClick =<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.props.getMsg(<span class="built_in">this</span>.state.childMsg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;button onClick=&#123;<span class="built_in">this</span>.handleClick&#125;&gt;ç‚¹æˆ‘ï¼Œç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®&lt;/button&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å…„å¼Ÿç»„ä»¶"><a href="#å…„å¼Ÿç»„ä»¶" class="headerlink" title="å…„å¼Ÿç»„ä»¶"></a>å…„å¼Ÿç»„ä»¶</h1><ul><li>å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„<code>å…¬å…±çˆ¶ç»„ä»¶</code>ä¸­ï¼Œç”±å…¬å…±çˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€</li><li>æ€æƒ³ï¼š<code>çŠ¶æ€æå‡</code></li><li>å…¬å…±çˆ¶ç»„ä»¶èŒè´£ï¼š<ul><li>1.æä¾›å…±äº«<code>çŠ¶æ€</code></li><li>2.æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„<code>æ–¹æ³•</code></li></ul></li><li>è¦é€šè®¯çš„å­ç»„ä»¶åªéœ€é€šè¿‡<code>popsæ¥æ”¶</code>çŠ¶æ€æˆ–<code>æ“ä½œ</code>çŠ¶æ€çš„æ–¹æ³•</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="comment">//æä¾›å…±äº«çŠ¶æ€</span></span><br><span class="line">    state=&#123;</span><br><span class="line">        count:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•</span></span><br><span class="line">    onIncrement =<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setstate(&#123;</span><br><span class="line">            count:<span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Child1 count=&#123;<span class="built_in">this</span>.state.count&#125; /&gt;</span><br><span class="line">            &lt;Child2 onIncrement=&#123;<span class="built_in">this</span>.onIncrement&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> child1=<span class="function"><span class="params">props</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span><span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;props.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> child2=<span class="function"><span class="params">props</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>props.onIncrement()&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºanaconda3+pycharmæ­å»ºtensorflow-gpuç¯å¢ƒï¼ˆwin10)</title>
      <link href="2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/"/>
      <url>2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>å¼€å§‹è¿›è¡Œå­¦ä¹ <code>tensorflow</code>åº“çš„æ·±åº¦å­¦ä¹ çš„ä¸€äº›çŸ¥è¯†ï¼ŒæŠŠå®‰è£…å’Œç¯å¢ƒé…ç½®çš„è¿‡ç¨‹ç•™ä¸‹è®°å½•</p><blockquote><p>æŸ¥çœ‹ç¬”è®°æœ¬çš„æ˜¾å¡é©±åŠ¨å’Œç®—åŠ›ç­‰å°±ä¸åœ¨æ­¤èµ˜è¿°äº†</p></blockquote><h3 id="å®‰è£…anaconda"><a href="#å®‰è£…anaconda" class="headerlink" title="å®‰è£…anaconda"></a>å®‰è£…anaconda</h3><blockquote><p>å®˜ç½‘ï¼š<a href="https://www.anaconda.com/">https://www.anaconda.com/</a></p></blockquote><p>å®‰è£…æ—¶æ³¨æ„é€‰æ‹©çš„ç‰ˆæœ¬ã€å®‰è£…è·¯å¾„ã€å‹¾é€‰PATHå³å¯ï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯<code>ana3-2019.03</code>ç‰ˆçš„</p><h3 id="å®‰è£…tensorflow"><a href="#å®‰è£…tensorflow" class="headerlink" title="å®‰è£…tensorflow"></a>å®‰è£…tensorflow</h3><p>æ³¨æ„å¦‚æœä¹‹å‰ç”µè„‘ä¸Šå¦‚æœå®‰è£…è¿‡<code>python</code>ï¼Œç»ˆç«¯è¾“å…¥<code>pip</code>æŒ‡ä»¤ä¸€èˆ¬ä¸ä¼šä¸‹è½½åˆ°anacondaä¸­ï¼Œå¼ºçƒˆå»ºè®®æ‰“å¼€<code>Anaconda Powershell Prompt</code>ç•Œé¢</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/7be729582bb09396398b4f4b9e2bbb3b558d6a74b8da0a452193337ed48a75d2.png" alt="å›¾ 1">  </p><p>æ‰“å¼€åï¼Œè¾“å…¥æŒ‡ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Tensorflow&#x3D; 2.0.0è¡¨ç¤ºæ˜¯ä¸‹è½½çš„ç‰ˆæœ¬</span><br><span class="line">&#x2F;&#x2F;-i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simpleè¡¨ç¤ºé•œåƒæºçš„é€‰æ‹©(åŠ é€Ÿä¸‹è½½)</span><br><span class="line">pip install tensorflow-gpu&#x3D;&#x3D;2.0.0 -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple</span><br></pre></td></tr></table></figure><p>æ‰“å¼€cmdè¾“å…¥<code>conda list</code>,æ‰¾åˆ°tensorflow-gpu</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/3b412e355ed173a1929bdb0f3341fba859a65f195519936c8c5ceff988b22204.png" alt="å›¾ 3">  </p><p>yesï¼Œæå®šï¼</p><h3 id="å®‰è£…cudaå’Œcudnn"><a href="#å®‰è£…cudaå’Œcudnn" class="headerlink" title="å®‰è£…cudaå’Œcudnn"></a>å®‰è£…cudaå’Œcudnn</h3><p>é¦–å…ˆç›´æ¥åˆ°å®˜ç½‘æ‰¾ç‰ˆæœ¬ä¸‹è½½åŒ…ï¼Œcudnnä¸‹è½½éœ€è¦æ³¨å†Œä¸€ä¸ªè´¦å·(ä¸éº»çƒ¦)</p><blockquote><p>cuda:<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></p></blockquote><blockquote><p>cudnn:<a href="https://developer.nvidia.com/rdp/cudnn-archive">https://developer.nvidia.com/rdp/cudnn-archive</a></p></blockquote><p>æˆ‘å‰è¾¹å®‰è£…çš„æ˜¯2.0.0ç‰ˆæœ¬çš„tensorflowï¼Œéœ€è¦ä¸‹è½½å¯¹åº”çš„é€‚é…ç‰ˆæœ¬,è¿™é‡Œæˆ‘ä¸‹è½½çš„æ˜¯ï¼š<br>cuda_10.0.130_411.31_win10.exe<br>cudnn-win10-x64-v7.5.0.56.zip</p><p>cudaå®‰è£…ï¼Œcudnnè§£å‹æ‰“å¼€æœ‰ä¸€ä¸ªcodaçš„æ–‡ä»¶å¤¹ï¼Œä¿®æ”¹å…¶åå­—ä¸ºcudnnï¼Œç›´æ¥ç§»åŠ¨åˆ°cudaä¸‹è½½è·¯å¾„</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/21344f14f7d2b6c9485e89ad85f0573924cffe2fad76323068c6c421341c2f2d.png" alt="å›¾ 6">  </p><p>ç„¶åæŒ‰ç…§ä¸‹å›¾æ·»åŠ ç¯å¢ƒå˜é‡ï¼š<br><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/e80264baf16a6417656944b3e4ced7463b3faa793193906089758332ca33f234.png" alt="å›¾ 7">  </p><h3 id="å®‰è£…pycharm"><a href="#å®‰è£…pycharm" class="headerlink" title="å®‰è£…pycharm"></a>å®‰è£…pycharm</h3><p><code>pycharm</code>æœ‰çš„è€ç‰ˆæœ¬æ’ä»¶ä¸å¤ªå…¨ï¼ˆåŒ…æ‹¬ä¸­æ–‡æ’ä»¶ï¼‰ï¼Œæ‰€ä»¥ç›´æ¥å»ºè®®ç›´æ¥åˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆï¼Œçœå¿ƒ</p><p>ä¸‹è½½å®‰è£…åæ‰“å¼€ï¼Œé€‰æ‹©æ–°å»ºé¡¹ç›®ï¼Œå¦‚å›¾æ“ä½œ</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/bf6e1ec8596ef2dae374d32e6c3ea20723093ebae0155c4498ab5a0af6440438.png" alt="å›¾ 8">  </p><p>ç‚¹å‡»ä¸‹æ‹‰èœå•ï¼Œæ­¤æ—¶ä½ çš„è§£é‡Šå™¨é‚£é‡Œåº”è¯¥æ˜¯ç©ºçš„ï¼Œå¦‚ä¸Šå›¾ç‚¹3ï¼ŒæŒ‰ä¸‹å›¾æ“ä½œåå°±å¯ä»¥åœ¨ä¸Šå›¾ä½ç½®é€‰æ‹©è§£é‡Šå™¨äº†</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/0dcbcd7e1dba0bae85fb5f18ae70e972d4fd3ca9c7c09f6f0c8c5f823aca9723.png" alt="å›¾ 9">  </p><p>æ‰“å¼€åï¼Œåœ¨é¡¹ç›®è·¯å¾„é‡Œæ–°å»ºdemo.pyæ–‡ä»¶ï¼Œè¾“å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">os.environ[&quot;TF_CPP_MIN_LOG_LEVEL&quot;] &#x3D; &#39;2&#39;</span><br><span class="line"></span><br><span class="line">import tensorflow as tf</span><br><span class="line"></span><br><span class="line">print(&#39;GPU&#39;, tf.test.is_gpu_available())</span><br><span class="line"></span><br><span class="line">a &#x3D; tf.constant(2.)</span><br><span class="line">b &#x3D; tf.constant(4.)</span><br><span class="line"></span><br><span class="line">print(a*b)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¾€å¾€éœ€è¦ç­‰å¾…ä¸‹æ–¹é…ç½®æ–‡ä»¶åŠ è½½ï¼ˆè€—æ—¶è¾ƒé•¿ï¼‰</p><p>åŠ è½½å®Œæˆåï¼Œå³é”®é€‰æ‹©è¿è¡Œæˆ–ç›´æ¥<code>ctrl+shift+F10</code>è¿è¡Œ<br>å¾—åˆ°å¦‚ä¸‹ç»“æœåˆ™ç¯å¢ƒæ­å»ºå®£å‘Šå®Œæˆ</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/b9f83cfeacdcc8dbc2d393a9fdaaa84b156b3269332bdc903a85114f34278a8a.png" alt="å›¾ 10">  </p><h3 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h3><p>èŠœæ¹–ï¼å®Œæˆäº†ï¼Œä¸­é—´ä¸€å¼€å§‹å› ä¸ºç‰ˆæœ¬é—®é¢˜æœ€åæ€»æ˜¯å¤šå°‘æœ‰ç‚¹ä¸å°½äººæ„ï¼Œåæ¥æ¢äº†2.0.0ç‰ˆæœ¬æ±‚ç¨³ï¼Œæ€»ç®—æ˜¯æœ‰äº†ä¸€ä¸ªæ»¡æ„çš„ç»“æœï¼Œç…§è¿™ä¸ªæ­¥éª¤ä¸€æ­¥ä¸€æ­¥æ¥ï¼ŒåŸºæœ¬ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œå‡ºé—®é¢˜èµ¶ç´§ç™¾åº¦ï¼ˆå°çªé—¨æ˜¯é™å®šä¸‹æ—¶é—´ä¸€ä¸ªæœˆæˆ–ä¸€å¹´å†…ï¼Œç¨å¾®ç¡®ä¿ä¸‹æ—¶æ•ˆæ€§)</p><p><strong>æœ€åï¼Œæ–‡ç« è¾ƒé•¿ï¼Œè°¢è°¢é˜…è¯»ï¼Œå‘±å”§å‘±å”§</strong></p>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Warning: &lt;node&gt;Warning:Accessing non-existent property â€˜xxxâ€˜ of module exports inside circular dependency</title>
      <link href="2022/06/29/Warning-Accessing-non-existent-property-%E2%80%98xxx%E2%80%98-of-module-exports-inside-circular-depen/"/>
      <url>2022/06/29/Warning-Accessing-non-existent-property-%E2%80%98xxx%E2%80%98-of-module-exports-inside-circular-depen/</url>
      
        <content type="html"><![CDATA[<p>åšå®¢éƒ¨ç½²çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¦‚é¢˜å½¢å¼çš„å‡ å¥æŠ¥é”™åé¦ˆï¼Œä½†è²Œä¼¼å¹¶æ²¡æœ‰ä»€ä¹ˆå®è´¨å½±å“ï¼Œä½†æœ¬ç€ä¸¥è°¨<del>(å¼ºè¿«ç—‡?bushi)</del>çš„æ€åº¦ï¼Œè¿˜æ˜¯åˆ°ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹åŸå› ï¼Œå¤šè¯´æ˜¯nodeç‰ˆæœ¬é—®é¢˜ï¼Œä¹Ÿå› æ­¤äº†è§£åˆ°<code>nvm</code>å·¥å…·ï¼ˆä¸€ä¸ªnodejsçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç®€å•æ“ä½œnodeç‰ˆæœ¬çš„åˆ‡æ¢ã€å®‰è£…ã€æŸ¥çœ‹ï¼‰ï¼Œæ¥ä¸‹æ¥å…·ä½“è¯´ä¸‹æŠ¥é”™çš„è§£å†³æ–¹æ³•å§ï¼š</p><h3 id="æŠ¥é”™å¦‚ä¸‹"><a href="#æŠ¥é”™å¦‚ä¸‹" class="headerlink" title="æŠ¥é”™å¦‚ä¸‹:"></a>æŠ¥é”™å¦‚ä¸‹:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(node:96123) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h3><p>æ”¾è·¯å¾„:<code>D:\Blog\node_modules\nib\node_modules\stylus\lib\nodes\index.js</code></p><p>D:\Blogæ˜¯æœ¬åœ°åšå®¢ä½ç½®ï¼Œé¡ºç€ä¸Šæ–¹è·¯å¾„æ‰¾åˆ°<code>index.js</code>æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œé—®é¢˜è§£å†³æ¬¸å˜¿(Â·Ï‰&lt;)~</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.lineno &#x3D; null;</span><br><span class="line">exports.column &#x3D; null;</span><br><span class="line">exports.filename &#x3D; null;</span><br></pre></td></tr></table></figure><hr><p>å¥½ä¹…ä¸ç”¨nvmæ„Ÿè§‰éƒ½æœ‰ç‚¹ç”Ÿç–äº†ï¼Œä»¥åå¯èƒ½ä¼šå†™ç¯‡åšå®¢è®°ä¸‹nvmçš„å¸¸ç”¨è¯­å¥ï¼Œä¸è¿‡ç›´æ¥ä½¿ç”¨<code>help</code>æ›´æ–¹ä¾¿ï¼Œæ¯•ç«Ÿå®ƒä½¿ç”¨èµ·æ¥å¹¶ä¸å¤æ‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Debug </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>firefoxæµè§ˆå™¨åœ¨æ–°å»ºé¡µé¢æ‰“å¼€ä¹¦ç­¾ç½‘ç«™</title>
      <link href="2022/06/27/firefox%E5%B0%8F%E6%96%B9%E6%B3%95/"/>
      <url>2022/06/27/firefox%E5%B0%8F%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æœ‰æ²¡æœ‰è¿‡å¹³æ—¶é¡ºæ‰‹ç‚¹å¼€æ”¶è—æ é‡Œçš„ä¹¦ç­¾æƒ³æŸ¥ç‚¹ä¸œè¥¿ï¼Œå´ä¸æƒ³æŠŠå½“å‰é¡µé¢è¦†ç›–äº†çš„ç»å†ï¼Œå°±æˆ–å¤šæˆ–å°‘æœ‰ç‚¹ä¸å¤ªèˆ’æœå§ï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªå°æ–¹æ³•å¯ä»¥å°†<code>firefox</code>çš„ä¹¦ç­¾è®¾ç½®æˆé¼ æ ‡å•å‡»ååœ¨æ–°å»ºæ ‡ç­¾é¡µæ‰“å¼€ï¼š</p><h3 id="æ“ä½œæ–¹æ³•ï¼š"><a href="#æ“ä½œæ–¹æ³•ï¼š" class="headerlink" title="æ“ä½œæ–¹æ³•ï¼š"></a>æ“ä½œæ–¹æ³•ï¼š</h3><p>1.åœ¨åœ°å€æ è¾“å…¥<code>about:config</code>åå›è½¦ï¼Œä¼šå¼¹å‡ºé£é™©æç¤ºï¼Œé€‰æ‹©æ¥å—ã€‚<br>2.åœ¨æ‰“å¼€é¡µé¢çš„æœç´¢æ é‡Œè¾“å…¥<code>browser.tabs.loadBookmarksInTabs</code>ã€‚<br>3.é»˜è®¤æ˜¯<code>false</code>,ç‚¹å‡»å³ä¾§åˆ‡æ¢æŒ‰é’®æ”¹ä¸º<code>true</code>å°±è¡Œäº†ã€‚</p><hr><p>å¦‚æœä¸æ”¹ï¼ŒæŒ‰ä½<code>ctrl</code>å•å‡»ä¹¦ç­¾ï¼Œæˆ–è€…æŒ‰é¼ æ ‡æ»šè½®é”®ç‚¹å‡»ä¹¦ç­¾ï¼Œä¹Ÿå¯ä»¥åœ¨æ–°å»ºæ ‡ç­¾é¡µæ‰“å¼€ä¹¦ç­¾ï¼Œçœ‹ä¸ªäººä¹ æƒ¯å§ï¼Œæˆ‘æ˜¯æ”¹äº†è®¾ç½®çš„æ„Ÿè§‰æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>Q.E.DğŸŒ </p>]]></content>
      
      
      <categories>
          
          <category> æ–¹æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>èŠœæ¹–ï¼Œæ­å»ºæˆåŠŸ</title>
      <link href="2022/06/26/%E8%8A%9C%E6%B9%96%EF%BC%8C%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F/"/>
      <url>2022/06/26/%E8%8A%9C%E6%B9%96%EF%BC%8C%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F/</url>
      
        <content type="html"><![CDATA[<p>æ‹–å»¶ä»€ä¹ˆçš„passï¼Œä½†å‰è¨€æƒ³ä¸å‡ºå†™å•¥å¥½ï¼Œå¤§é›¾ï¼Œæ­¤å¤„çœç•¥ä¸€åƒé›¶ä¸€å­—ã€‚</p><h3 id="å…³äºåšå®¢"><a href="#å…³äºåšå®¢" class="headerlink" title="å…³äºåšå®¢"></a>å…³äºåšå®¢</h3><ul><li>è·Œè·Œæ’æ’çš„å¼€å§‹äº†å‰ç«¯å­¦ä¹ ï¼Œæ€»å½’è¦æœ‰ä¸ªè®°å½•å†ç¨‹çš„åœ°æ–¹ï¼Œé¡ºä¾¿å¸¦ç‚¹é­ç­–çš„æ„ä¹‰ï¼Œdalaoè¾£ä¹ˆå¤šï¼Œèº«ä¸ºèœé¸Ÿè¿˜æ˜¯to learnå§ã€‚</li><li>è®°å½•ä¸‹é‡åˆ°çš„é—®é¢˜ï¼Œå¦‚æœç¢°å·§èƒ½å¯¹åˆ«äººæœ‰å¸®åŠ©ä¹Ÿä¸é”™ï¼Œä¹Ÿæ–¹ä¾¿å›å¤´å›é¡¾é”™è¯¯ï¼Œå—¯ï¼Œä¸é”™ã€‚</li><li>é”»ç‚¼é”»ç‚¼ç¬”è®°èƒ½åŠ›ï¼Œæ¯•ç«Ÿæ˜¯è‡ªå­¦å•Šï¼Œå¸Œæœ›èƒ½åœ¨è¿™æ¡è·¯ä¸Šèµ°çš„è¿œä¸€ç‚¹å§ã€‚</li><li>ç°åœ¨è‡ªå·±çš„åšå®¢è¿˜æ˜¯æŒºå•è°ƒçš„ï¼Œå˜›ï¼Œæ…¢æ…¢æ¥å§ï¼Œä¹‹åè¯•ç€æ·»åŠ ç‚¹æœ‰è¶£çš„ï¼Œæ–‡ç« ä¹Ÿå°‘ï¼Œæœªå…å¯’ç¢œã€‚</li></ul><h3 id="è‡´è‡ªå·±"><a href="#è‡´è‡ªå·±" class="headerlink" title="è‡´è‡ªå·±"></a>è‡´è‡ªå·±</h3><p>  é“é˜»ä¸”é•¿å•Šï¼Œä¹Ÿåªæœ‰å¥‹æ–—èƒ½ç»™è‡ªå·±ä¸€ä»½çœŸå®çš„å®‰å…¨æ„Ÿäº†ã€‚</p><p>  Q.E.DğŸŒ </p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2022/04/25/hello-world/"/>
      <url>2022/04/25/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
