<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>构建多层网络解决欠拟合化训练实战</title>
      <link href="2022/08/06/%E6%9E%84%E5%BB%BA%E5%A4%9A%E5%B1%82%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%AC%A0%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E6%88%98/"/>
      <url>2022/08/06/%E6%9E%84%E5%BB%BA%E5%A4%9A%E5%B1%82%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%AC%A0%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>当前人工智能还未达到人类 5 岁水平，不过在感知方<br>面进步飞快。未来在机器语音、视觉识别领域，五到十<br>年内超越人类没有悬念。−沈向洋</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 导入数据集生成工具</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers, Sequential</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">16</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;STKaiti&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">OUTPUT_DIR = <span class="string">&#x27;output_dir&#x27;</span></span><br><span class="line">N_EPOCHS = <span class="number">500</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_dataset</span>():</span></span><br><span class="line">    <span class="comment"># 采样点数</span></span><br><span class="line">    N_SAMPLES = <span class="number">1000</span></span><br><span class="line">    <span class="comment"># 测试数量比率</span></span><br><span class="line">    TEST_SIZE = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    X, y = make_moons(n_samples=N_SAMPLES, noise=<span class="number">0.25</span>, random_state=<span class="number">100</span>)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=TEST_SIZE, random_state=<span class="number">42</span>)</span><br><span class="line">    <span class="keyword">return</span> X, y, X_train, X_test, y_train, y_test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_plot</span>(<span class="params">X, y, plot_name, file_name, XX=<span class="literal">None</span>, YY=<span class="literal">None</span>, preds=<span class="literal">None</span>, dark=<span class="literal">False</span>, output_dir=OUTPUT_DIR</span>):</span></span><br><span class="line">    <span class="keyword">if</span> dark:</span><br><span class="line">        plt.style.use(<span class="string">&#x27;dark_background&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sns.set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">    axes = plt.gca()</span><br><span class="line">    axes.set_xlim([-<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    axes.set_ylim([-<span class="number">1.5</span>, <span class="number">2</span>])</span><br><span class="line">    axes.<span class="built_in">set</span>(xlabel=<span class="string">&quot;$x_1$&quot;</span>, ylabel=<span class="string">&quot;$x_2$&quot;</span>)</span><br><span class="line">    plt.title(plot_name, fontsize=<span class="number">20</span>, fontproperties=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line">    plt.subplots_adjust(left=<span class="number">0.20</span>)</span><br><span class="line">    plt.subplots_adjust(right=<span class="number">0.80</span>)</span><br><span class="line">    <span class="comment"># 根据网络输出绘制预测曲面</span></span><br><span class="line">    <span class="keyword">if</span> (XX <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> YY <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> preds <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">        plt.contourf(XX, YY, preds.reshape(XX.shape), <span class="number">25</span>, alpha=<span class="number">0.08</span>, cmap=plt.cm.Spectral)</span><br><span class="line">        plt.contour(XX, YY, preds.reshape(XX.shape), levels=[<span class="number">.5</span>], cmap=<span class="string">&quot;Greys&quot;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">.6</span>)</span><br><span class="line">    <span class="comment"># 绘制正负样本</span></span><br><span class="line">    markers = [<span class="string">&#x27;o&#x27;</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> y.ravel()]</span><br><span class="line">    mscatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y.ravel(), s=<span class="number">20</span>, cmap=plt.cm.Spectral, edgecolors=<span class="string">&#x27;none&#x27;</span>, m=markers, ax=axes)</span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line">    <span class="comment"># 保存矢量图</span></span><br><span class="line">    plt.savefig(file_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mscatter</span>(<span class="params">x, y, ax=<span class="literal">None</span>, m=<span class="literal">None</span>, **kw</span>):</span></span><br><span class="line">    <span class="keyword">import</span> matplotlib.markers <span class="keyword">as</span> mmarkers</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    sc = ax.scatter(x, y, **kw)</span><br><span class="line">    <span class="keyword">if</span> (m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(m) == <span class="built_in">len</span>(x)):</span><br><span class="line">        paths = []</span><br><span class="line">        <span class="keyword">for</span> marker <span class="keyword">in</span> m:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(marker, mmarkers.MarkerStyle):</span><br><span class="line">                marker_obj = marker</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                marker_obj = mmarkers.MarkerStyle(marker)</span><br><span class="line">            path = marker_obj.get_path().transformed(</span><br><span class="line">                marker_obj.get_transform())</span><br><span class="line">            paths.append(path)</span><br><span class="line">        sc.set_paths(paths)</span><br><span class="line">    <span class="keyword">return</span> sc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">network_layers_influence</span>(<span class="params">X_train, y_train</span>):</span></span><br><span class="line">    <span class="comment"># 构建 5 种不同层数的网络</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="comment"># 创建容器</span></span><br><span class="line">        model = Sequential()</span><br><span class="line">        <span class="comment"># 创建第一层</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">8</span>, input_dim=<span class="number">2</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># 添加 n 层，共 n+2 层</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            model.add(layers.Dense(<span class="number">32</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># 创建最末层</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">        <span class="comment"># 模型装配与训练</span></span><br><span class="line">        model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">        model.fit(X_train, y_train, epochs=N_EPOCHS, verbose=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 绘制不同层数的网络决策边界曲线</span></span><br><span class="line">        <span class="comment"># 可视化的 x 坐标范围为[-2, 3]</span></span><br><span class="line">        xx = np.arange(-<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># 可视化的 y 坐标范围为[-1.5, 2]</span></span><br><span class="line">        yy = np.arange(-<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># 生成 x-y 平面采样网格点，方便可视化</span></span><br><span class="line">        XX, YY = np.meshgrid(xx, yy)</span><br><span class="line">        preds = model.predict_classes(np.c_[XX.ravel(), YY.ravel()])</span><br><span class="line">        title = <span class="string">&quot;网络层数：&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span> + n)</span><br><span class="line">        file = <span class="string">&quot;网络容量_%i.png&quot;</span> % (<span class="number">2</span> + n)</span><br><span class="line">        make_plot(X_train, y_train, title, file, XX, YY, preds, output_dir=OUTPUT_DIR + <span class="string">&#x27;/network_layers&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    X, y, X_train, X_test, y_train, y_test = load_dataset()</span><br><span class="line">    <span class="comment"># 绘制数据集分布</span></span><br><span class="line">    make_plot(X, y, <span class="literal">None</span>, <span class="string">&quot;月牙形状二分类数据集分布.svg&quot;</span>)</span><br><span class="line">    <span class="comment"># 网络层数的影响</span></span><br><span class="line">    network_layers_influence(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dropout解决过拟合化训练实战</title>
      <link href="2022/08/06/dropout%E8%A7%A3%E5%86%B3%E8%BF%87%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E4%BE%8B/"/>
      <url>2022/08/06/dropout%E8%A7%A3%E5%86%B3%E8%BF%87%E6%8B%9F%E5%90%88%E5%8C%96%E8%AE%AD%E7%BB%83%E5%AE%9E%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>一切都应该尽可能地简单，但不能过于简单。<br>—艾伯特·爱因斯坦</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 导入数据集生成工具</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers, Sequential</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">16</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;STKaiti&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">OUTPUT_DIR = <span class="string">&#x27;output_dir&#x27;</span></span><br><span class="line">N_EPOCHS = <span class="number">500</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_dataset</span>():</span></span><br><span class="line">    <span class="comment"># 采样点数</span></span><br><span class="line">    N_SAMPLES = <span class="number">1000</span></span><br><span class="line">    <span class="comment"># 测试数量比率</span></span><br><span class="line">    TEST_SIZE = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    X, y = make_moons(n_samples=N_SAMPLES, noise=<span class="number">0.25</span>, random_state=<span class="number">100</span>)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=TEST_SIZE, random_state=<span class="number">42</span>)</span><br><span class="line">    <span class="keyword">return</span> X, y, X_train, X_test, y_train, y_test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_plot</span>(<span class="params">X, y, plot_name, file_name, XX=<span class="literal">None</span>, YY=<span class="literal">None</span>, preds=<span class="literal">None</span>, dark=<span class="literal">False</span>, output_dir=OUTPUT_DIR</span>):</span></span><br><span class="line">    <span class="keyword">if</span> dark:</span><br><span class="line">        plt.style.use(<span class="string">&#x27;dark_background&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sns.set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">    axes = plt.gca()</span><br><span class="line">    axes.set_xlim([-<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    axes.set_ylim([-<span class="number">1.5</span>, <span class="number">2</span>])</span><br><span class="line">    axes.<span class="built_in">set</span>(xlabel=<span class="string">&quot;$x_1$&quot;</span>, ylabel=<span class="string">&quot;$x_2$&quot;</span>)</span><br><span class="line">    plt.title(plot_name, fontsize=<span class="number">20</span>, fontproperties=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line">    plt.subplots_adjust(left=<span class="number">0.20</span>)</span><br><span class="line">    plt.subplots_adjust(right=<span class="number">0.80</span>)</span><br><span class="line">    <span class="comment"># 根据网络输出绘制预测曲面</span></span><br><span class="line">    <span class="keyword">if</span> (XX <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> YY <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> preds <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">        plt.contourf(XX, YY, preds.reshape(XX.shape), <span class="number">25</span>, alpha=<span class="number">0.08</span>, cmap=plt.cm.Spectral)</span><br><span class="line">        plt.contour(XX, YY, preds.reshape(XX.shape), levels=[<span class="number">.5</span>], cmap=<span class="string">&quot;Greys&quot;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">.6</span>)</span><br><span class="line">    <span class="comment"># 绘制正负样本</span></span><br><span class="line">    markers = [<span class="string">&#x27;o&#x27;</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> y.ravel()]</span><br><span class="line">    mscatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y.ravel(), s=<span class="number">20</span>, cmap=plt.cm.Spectral, edgecolors=<span class="string">&#x27;none&#x27;</span>, m=markers, ax=axes)</span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line">    <span class="comment"># 保存矢量图</span></span><br><span class="line">    plt.savefig(file_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mscatter</span>(<span class="params">x, y, ax=<span class="literal">None</span>, m=<span class="literal">None</span>, **kw</span>):</span></span><br><span class="line">    <span class="keyword">import</span> matplotlib.markers <span class="keyword">as</span> mmarkers</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    sc = ax.scatter(x, y, **kw)</span><br><span class="line">    <span class="keyword">if</span> (m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(m) == <span class="built_in">len</span>(x)):</span><br><span class="line">        paths = []</span><br><span class="line">        <span class="keyword">for</span> marker <span class="keyword">in</span> m:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(marker, mmarkers.MarkerStyle):</span><br><span class="line">                marker_obj = marker</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                marker_obj = mmarkers.MarkerStyle(marker)</span><br><span class="line">            path = marker_obj.get_path().transformed(</span><br><span class="line">                marker_obj.get_transform())</span><br><span class="line">            paths.append(path)</span><br><span class="line">        sc.set_paths(paths)</span><br><span class="line">    <span class="keyword">return</span> sc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropout_influence</span>(<span class="params">X_train, y_train</span>):</span></span><br><span class="line">    <span class="comment"># 构建 5 种不同数量 Dropout 层的网络</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="comment"># 创建容器</span></span><br><span class="line">        model = Sequential()</span><br><span class="line">        <span class="comment"># 创建第一层</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">8</span>, input_dim=<span class="number">2</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        counter = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 网络层数固定为 5</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">            model.add(layers.Dense(<span class="number">64</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">        <span class="comment"># 添加 n 个 Dropout 层</span></span><br><span class="line">        <span class="keyword">if</span> counter &lt; n:</span><br><span class="line">            counter += <span class="number">1</span></span><br><span class="line">            model.add(layers.Dropout(rate=<span class="number">0.5</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 输出层</span></span><br><span class="line">        model.add(layers.Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">        <span class="comment"># 模型装配</span></span><br><span class="line">        model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">        <span class="comment"># 训练</span></span><br><span class="line">        model.fit(X_train, y_train, epochs=N_EPOCHS, verbose=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 绘制不同 Dropout 层数的决策边界曲线</span></span><br><span class="line">        <span class="comment"># 可视化的 x 坐标范围为[-2, 3]</span></span><br><span class="line">        xx = np.arange(-<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># 可视化的 y 坐标范围为[-1.5, 2]</span></span><br><span class="line">        yy = np.arange(-<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="comment"># 生成 x-y 平面采样网格点，方便可视化</span></span><br><span class="line">        XX, YY = np.meshgrid(xx, yy)</span><br><span class="line">        preds = model.predict_classes(np.c_[XX.ravel(), YY.ravel()])</span><br><span class="line">        title = <span class="string">&quot;无Dropout层&quot;</span> <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">else</span> <span class="string">&quot;&#123;0&#125;层 Dropout层&quot;</span>.<span class="built_in">format</span>(n)</span><br><span class="line">        file = <span class="string">&quot;Dropout_%i.png&quot;</span> % n</span><br><span class="line">        make_plot(X_train, y_train, title, file, XX, YY, preds, output_dir=OUTPUT_DIR + <span class="string">&#x27;/dropout&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    X, y, X_train, X_test, y_train, y_test = load_dataset()</span><br><span class="line">    <span class="comment"># 绘制数据集分布</span></span><br><span class="line">    make_plot(X, y, <span class="literal">None</span>, <span class="string">&quot;月牙形状二分类数据集分布.svg&quot;</span>)</span><br><span class="line">    <span class="comment"># Dropout的影响</span></span><br><span class="line">    dropout_influence(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> Dropout </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CIFAR10自定义网络实战</title>
      <link href="2022/08/05/CIFAR10%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C%E5%AE%9E%E6%88%98/"/>
      <url>2022/08/05/CIFAR10%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>人工智能难题不仅是计算机科学问题，更是数学、认知<br>科学和哲学问题。− François Chollet</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets, layers, optimizers, Sequential, metrics</span><br><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> keras</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="comment"># [0, 255] --&gt; [-1,1]</span></span><br><span class="line">    x = <span class="number">2</span> * tf.cast(x, dtype=tf.float32) / <span class="number">255.</span> - <span class="number">1.</span></span><br><span class="line">    y = tf.cast(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">128</span></span><br><span class="line"><span class="comment"># x --&gt; [32,32,3], y --&gt; [10k, 1]</span></span><br><span class="line">(x, y), (x_val, y_val) = datasets.cifar10.load_data()</span><br><span class="line">y = tf.squeeze(y)  <span class="comment"># [10k, 1] --&gt; [10k]</span></span><br><span class="line">y_val = tf.squeeze(y_val)</span><br><span class="line">y = tf.one_hot(y, depth=<span class="number">10</span>)  <span class="comment"># [50k, 10]</span></span><br><span class="line">y_val = tf.one_hot(y_val, depth=<span class="number">10</span>)  <span class="comment"># [10k, 10]</span></span><br><span class="line">print(<span class="string">&#x27;datasets:&#x27;</span>, x.shape, y.shape, x_val.shape, y_val.shape, x.<span class="built_in">min</span>(),</span><br><span class="line">      x.<span class="built_in">max</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建数据集</span></span><br><span class="line">train_db = tf.data.Dataset.from_tensor_slices((x, y))</span><br><span class="line">train_db = train_db.<span class="built_in">map</span>(preprocess).shuffle(<span class="number">10000</span>).batch(batch_size)</span><br><span class="line">test_db = tf.data.Dataset.from_tensor_slices((x_val, y_val))</span><br><span class="line">test_db = test_db.<span class="built_in">map</span>(preprocess).batch(batch_size)</span><br><span class="line"></span><br><span class="line">sample = <span class="built_in">next</span>(<span class="built_in">iter</span>(train_db))</span><br><span class="line">print(<span class="string">&#x27;batch:&#x27;</span>, sample[<span class="number">0</span>].shape, sample[<span class="number">1</span>].shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建网络对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDense</span>(<span class="params">layers.Layer</span>):</span></span><br><span class="line">    <span class="comment"># to replace standard layers.Dense()</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, inp_dim, outp_dim</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(MyDense, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.kernel = self.add_weight(<span class="string">&#x27;w&#x27;</span>, [inp_dim, outp_dim])</span><br><span class="line">        <span class="comment"># self.bias = self.add_weight(&#x27;b&#x27;, [outp_dim])</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span>(<span class="params">self, inputs, training=<span class="literal">None</span></span>):</span></span><br><span class="line">        x = inputs @ self.kernel</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义网络层</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyNetwork</span>(<span class="params">keras.Model</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(MyNetwork, self).__init__()</span><br><span class="line">        self.fc1 = MyDense(<span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>, <span class="number">256</span>)</span><br><span class="line">        self.fc2 = MyDense(<span class="number">256</span>, <span class="number">128</span>)</span><br><span class="line">        self.fc3 = MyDense(<span class="number">128</span>, <span class="number">64</span>)</span><br><span class="line">        self.fc4 = MyDense(<span class="number">64</span>, <span class="number">32</span>)</span><br><span class="line">        self.fc5 = MyDense(<span class="number">32</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span>(<span class="params">self, inputs, training=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;inputs: [b,32,32,3]&quot;&quot;&quot;</span></span><br><span class="line">        x = tf.reshape(inputs, [-<span class="number">1</span>, <span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>])</span><br><span class="line">        <span class="comment"># [b,32*32*3] --&gt; [b, 256]</span></span><br><span class="line">        x = self.fc1(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 256] --&gt; [b,128]</span></span><br><span class="line">        x = self.fc2(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 128] --&gt; [b,64]</span></span><br><span class="line">        x = self.fc3(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 64] --&gt; [b,32]</span></span><br><span class="line">        x = self.fc4(x)</span><br><span class="line">        x = tf.nn.relu(x)</span><br><span class="line">        <span class="comment"># [b, 32] --&gt; [b,10]</span></span><br><span class="line">        x = self.fc5(x)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">network = MyNetwork()</span><br><span class="line"><span class="comment"># 装配</span></span><br><span class="line">network.<span class="built_in">compile</span>(optimizer=optimizers.Adam(lr=<span class="number">1e-3</span>),</span><br><span class="line">                loss=tf.losses.CategoricalCrossentropy(from_logits=<span class="literal">True</span>),</span><br><span class="line">                metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="comment"># 训练</span></span><br><span class="line">network.fit(train_db, epochs=<span class="number">5</span>, validation_data=test_db, validation_freq=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">network.evaluate(test_db)</span><br><span class="line">network.save_weights(<span class="string">&#x27;ckpt/weights.ckpt&#x27;</span>)  <span class="comment"># 模型的保存</span></span><br><span class="line"><span class="keyword">del</span> network</span><br><span class="line">print(<span class="string">&#x27;saved to ckpt/weights.ckpt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型的加载</span></span><br><span class="line">network = MyNetwork()</span><br><span class="line">network.<span class="built_in">compile</span>(optimizer=optimizers.Adam(lr=<span class="number">1e-3</span>),</span><br><span class="line">                loss=tf.losses.CategoricalCrossentropy(from_logits=<span class="literal">True</span>),</span><br><span class="line">                metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">network.load_weights(<span class="string">&#x27;ckpt/weights.ckpt&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;loaded weights from file.&#x27;</span>)</span><br><span class="line"></span><br><span class="line">network.evaluate(test_db)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git实践笔记</title>
      <link href="2022/08/04/mygit/"/>
      <url>2022/08/04/mygit/</url>
      
        <content type="html"><![CDATA[<h1 id="git实践笔记"><a href="#git实践笔记" class="headerlink" title="git实践笔记"></a>git实践笔记</h1><h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><blockquote><p>从git服务器拉取代码</p></blockquote><style>    .mac {        width:10px;        height:10px;        border-radius:5px;        float:left;        margin:10px 0 0 5px;    }    .b1 {        background:#E0443E;        margin-left: 10px;    }    .b2 { background:#DEA123; }    .b3 { background:#1AAB29; }    .warpper{        background:#121212;        border-radius:5px;        width:400px;    }</style><div class="warpper">    <div class="mac b1"></div>    <div class="mac b2"></div>    <div class="mac b3"></div><br>    git clone https://github.com/kelaner/demo.git</div><h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><blockquote><p>配置开发者用户名和邮箱</p></blockquote><style>    .mac {        width:10px;        height:10px;        border-radius:5px;        float:left;        margin:10px 0 0 5px;    }    .b1 {        background:#E0443E;        margin-left: 10px;    }    .b2 { background:#DEA123; }    .b3 { background:#1AAB29; }    .warpper{        background:#121212;        border-radius:5px;        width:400px;    }</style><div class="warpper">    <div class="mac b1"></div>    <div class="mac b2"></div>    <div class="mac b3"></div><br>git config user.name laner <p>git config user.email <a href="mailto:&#108;&#x61;&#110;&#101;&#114;&#x63;&#x69;&#102;&#97;&#110;&#103;&#x40;&#111;&#x75;&#116;&#108;&#111;&#111;&#107;&#46;&#x63;&#x6f;&#x6d;">&#108;&#x61;&#110;&#101;&#114;&#x63;&#x69;&#102;&#97;&#110;&#103;&#x40;&#111;&#x75;&#116;&#108;&#111;&#111;&#107;&#46;&#x63;&#x6f;&#x6d;</a></p></div><h2 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h2><blockquote><p>初始化仓库</p></blockquote><style>    .mac {        width:10px;        height:10px;        border-radius:5px;        float:left;        margin:10px 0 0 5px;    }    .b1 {        background:#E0443E;        margin-left: 10px;    }    .b2 { background:#DEA123; }    .b3 { background:#1AAB29; }    .warpper{        background:#121212;        border-radius:5px;        width:400px;    }</style><div class="warpper">    <div class="mac b1"></div>    <div class="mac b2"></div>    <div class="mac b3"></div><br><p>git init<br>git remote add <code>&lt;name&gt;</code> <code>&lt;url&gt;</code><br>//git remote origin <a href="https://github.com/kelaner/demo.git">https://github.com/kelaner/demo.git</a></p></div><h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><blockquote><p>创建、重命名、查看、删除项目分支，通过 Git 做项目开发时，一般都是在开发分支中进行，开发完成后合并分支到主干。</p></blockquote><style>    .mac {        width:10px;        height:10px;        border-radius:5px;        float:left;        margin:10px 0 0 5px;    }    .b1 {        background:#E0443E;        margin-left: 10px;    }    .b2 { background:#DEA123; }    .b3 { background:#1AAB29; }    .warpper{        background:#121212;        border-radius:5px;        width:400px;    }</style><div class="warpper">    <div class="mac b1"></div>    <div class="mac b2"></div>    <div class="mac b3"></div><br>创建一个名为 daily/0.0.0 的日常开发分支:<p>git branch daily/0.0.0</p><p>为新建的分支重命名:<br>git branch -m daily/0.0.0 daily/0.0.1</p><p>通过不带参数的branch命令可以查看当前项目分支列表:<br>git branch</p><p>通过 -d 参数将分支删除:<br>git branch -d daily/0.0.1</p></div><h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><blockquote><p>切换分支</p></blockquote><blockquote><p>切换到 daily/0.0.1 分支:<br>git checkout daily/0.0.1</p></blockquote><h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><blockquote><p>查看文件变动状态</p></blockquote><h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h2><blockquote><p>添加文件变动到暂存区</p></blockquote><blockquote><p>git add -p<br>显示当前内容与本地版本库中的差异，然后自己决定是否添加这些修改到暂存区:</p></blockquote><blockquote><p>在命令行 Stage deletion [y,n,q,a,d,/,?]? 后输入 y,n,q,a,d,/,? 其中一项选择操作方式，具体功能解释如下：</p></blockquote><pre><code>y：接受修改n：忽略修改q：退出当前命令a：添加修改d：放弃修改/：通过正则表达式匹配修改内容</code></pre><blockquote><p>将指定文件名 README.md添加到暂存区:<br>git add README.md</p></blockquote><blockquote><p>添加所有文件:<br> git add . </p></blockquote><h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><blockquote><p>提交文件变动到版本库</p></blockquote><blockquote><p>通过 -m 参数可直接在命令行里输入提交描述文本:<br>git commit -m ‘这里写提交原因’</p></blockquote><h2 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h2><blockquote><p>将本地的代码改动推送到服务器:<br><code>git push -u origin daily/0.0.1</code></p></blockquote><blockquote><p><code>-u</code> 参数相当于记录了<code>push</code>到远端分支的默认值，这样当下次我们还想要继续<code>push</code>的这个远端分支的时候推送命令就可以简写成<code>git push</code>即可。</p></blockquote><blockquote><p><code>origin</code> 指代的是当前的<code>git</code>服务器地址，这行命令的意思是把<code>daily/0.0.1</code> 分支推送到服务器</p></blockquote><h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><blockquote><p>将服务器上的最新代码拉取到本地</p></blockquote><blockquote><p>git pull origin daily/0.0.1</p></blockquote><blockquote><p>如果线上代码做了变动，而你本地的代码也有变动，拉取的代码就有可能会跟你本地的改动冲突，一般情况下 Git 会自动处理这种冲突合并，但如果改动的是同一行，那就需要手动来合并代码，编辑文件，保存最新的改动，再通过 git add . 和 git commit -m ‘xxx’ 来提交合并。</p></blockquote><h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><blockquote><p>查看版本提交记录</p></blockquote><blockquote><p>提交记录可能会非常多，按 J 键往下翻，按 K 键往上翻，按 Q 键退出查看</p></blockquote><h2 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h2><blockquote><p>为项目标记里程碑</p></blockquote><blockquote><p>git tag publish/0.0.1<br>git push origin publish/0.0.1</p></blockquote><h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><blockquote><p>设置哪些内容不需要推送到服务器，这是一个配置文件</p></blockquote><blockquote><p>touch .gitignore<br>通过以上命令可以创建一个 .gitignore文件，并在编辑器中打开文件，每一行代表一个要忽略的文件或目录</p></blockquote><blockquote><p>eg:<br>demo.html<br>build/<br>以上内容的意思是 Git 将忽略 demo.html 文件 和 build/ 目录，这些内容不会被推送到服务器上</p></blockquote><h2 id="git-status-1"><a href="#git-status-1" class="headerlink" title="git status"></a>git status</h2><blockquote><p>git status -s<br>以简短方式查看工作区和暂存区文件状态</p></blockquote><h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><blockquote><p>从工作区和暂存区移除文件</p></blockquote><blockquote><p>git rm b.md<br>从工作区和暂存区移除文件 b.md ，同时添加变动到暂存区</p></blockquote><h2 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h2><blockquote><p>移动或重命名文件、目录</p></blockquote><blockquote><p>git mv a.md b.md -f<br>将 a.md 重命名为 b.md ，同时添加变动到暂存区，加 -f 参数可以强制重命名，相比用 mv a.md b.md 命令省去了 git add 操作</p></blockquote><h2 id="git-commit-补充"><a href="#git-commit-补充" class="headerlink" title="git commit(补充)"></a>git commit(补充)</h2><blockquote><p>把暂存区的文件提交到本地版本库</p></blockquote><blockquote><p>git commit -m ‘第一行提交原因’  -m ‘第二行提交原因’</p></blockquote><blockquote><p>不打开编辑器，直接在命令行中输入多行提交原因</p></blockquote><blockquote><p>git commit -am ‘提交原因’</p></blockquote><blockquote><p>将工作区 修改 或 删除 的文件提交到本地版本库， 新增 的文件不会被提交</p></blockquote><blockquote><p>git commit –amend -m ‘提交原因’</p></blockquote><blockquote><p>修改最新一条提交记录的提交原因</p></blockquote><blockquote><p>git commit -C HEAD</p></blockquote><blockquote><p>将当前文件改动提交到 HEAD 或当前分支的历史ID</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>FashionMNIST识别实战</title>
      <link href="2022/08/03/FashionMNIST%E8%AF%86%E5%88%AB/"/>
      <url>2022/08/03/FashionMNIST%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips："><a href="#Tips：" class="headerlink" title="Tips："></a>Tips：</h3><blockquote><p>人工智能将是谷歌的最终版本。它将成为终极搜索引<br>擎，可以理解网络上的一切信息。它会准确地理解你<br>想要什么，给你需要的东西。−拉里·佩奇</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets, layers, optimizers, Sequential, metrics</span><br><span class="line"><span class="comment"># 数据集管理 网格结构 优化器 容器 测试用度量器</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;数据处理函数&quot;&quot;&quot;</span></span><br><span class="line">    x = tf.cast(x, dtype=tf.float32) / <span class="number">255.</span></span><br><span class="line">    y = tf.cast(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据</span></span><br><span class="line">(x, y), (x_test, y_test) = datasets.fashion_mnist.load_data()</span><br><span class="line">print(x.shape, y.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理train数据</span></span><br><span class="line">batch_size = <span class="number">128</span></span><br><span class="line">db = tf.data.Dataset.from_tensor_slices((x, y))</span><br><span class="line">db = db.<span class="built_in">map</span>(preprocess).shuffle(<span class="number">10000</span>).batch(batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理test数据</span></span><br><span class="line">db_test = tf.data.Dataset.from_tensor_slices((x_test, y_test))</span><br><span class="line">db_test = db_test.<span class="built_in">map</span>(preprocess).batch(batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成train数据的迭代器</span></span><br><span class="line">db_iter = <span class="built_in">iter</span>(db)</span><br><span class="line">sample = <span class="built_in">next</span>(db_iter)</span><br><span class="line">print(<span class="string">f&#x27;batch: <span class="subst">&#123;sample[<span class="number">0</span>].shape,sample[<span class="number">1</span>].shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设计网络结构</span></span><br><span class="line">model = Sequential([</span><br><span class="line">    layers.Dense(<span class="number">256</span>, activation=tf.nn.relu),  <span class="comment"># [b,784] --&gt; [b,256]</span></span><br><span class="line">    layers.Dense(<span class="number">128</span>, activation=tf.nn.relu),  <span class="comment"># [b,256] --&gt; [b,128]</span></span><br><span class="line">    layers.Dense(<span class="number">64</span>, activation=tf.nn.relu),  <span class="comment"># [b,128] --&gt; [b,64]</span></span><br><span class="line">    layers.Dense(<span class="number">32</span>, activation=tf.nn.relu),  <span class="comment"># [b,64] --&gt; [b,32]</span></span><br><span class="line">    layers.Dense(<span class="number">10</span>),  <span class="comment"># [b,32] --&gt; [b,10], 330=32*10+10</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">model.build(input_shape=[<span class="literal">None</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line">model.summary()  <span class="comment"># 调试</span></span><br><span class="line"><span class="comment"># w = w - lr*grad</span></span><br><span class="line">optimizer = optimizers.Adam(lr=<span class="number">1e-3</span>)  <span class="comment"># 优化器，加快训练速度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;主运行函数&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># 多次迭代</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(db):  <span class="comment"># 完成数据集的一次迭代</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># x:[b,28,28] --&gt; [b,784]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">                <span class="comment"># [b,784] --&gt; [b,10]</span></span><br><span class="line">                logits = model(x)  <span class="comment"># 前向传播</span></span><br><span class="line">                y_onehot = tf.one_hot(y, depth=<span class="number">10</span>)</span><br><span class="line">                <span class="comment"># [b]</span></span><br><span class="line">                loss_mse = tf.reduce_mean(tf.losses.MSE(y_onehot, logits))</span><br><span class="line">                loss_ce = tf.reduce_mean(</span><br><span class="line">                    tf.losses.categorical_crossentropy(y_onehot,</span><br><span class="line">                                                       logits,</span><br><span class="line">                                                       from_logits=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line">            grads = tape.gradient(loss_ce, model.trainable_variables)</span><br><span class="line">            optimizer.apply_gradients(<span class="built_in">zip</span>(grads, model.trainable_variables))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">                print(epoch, step, <span class="string">f&#x27;loss: <span class="subst">&#123;<span class="built_in">float</span>(loss_ce),<span class="built_in">float</span>(loss_mse)&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># test</span></span><br><span class="line">        total_correct = <span class="number">0</span></span><br><span class="line">        total_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> db_test:</span><br><span class="line">            <span class="comment"># x:[b,28,28] --&gt; [b,784]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>])</span><br><span class="line">            <span class="comment"># [b,10]</span></span><br><span class="line">            logits = model(x)</span><br><span class="line">            <span class="comment"># logits --&gt; prob [b,10]</span></span><br><span class="line">            prob = tf.nn.softmax(logits, axis=<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># [b,10] --&gt; [b], (int64--&gt;) int32</span></span><br><span class="line">            pred = tf.argmax(prob, axis=<span class="number">1</span>)</span><br><span class="line">            pred = tf.cast(pred, dtype=tf.int32)</span><br><span class="line">            <span class="comment"># pred:[b]</span></span><br><span class="line">            <span class="comment"># y:[b]</span></span><br><span class="line">            <span class="comment"># correct: [b], True: equal; False: not equal</span></span><br><span class="line">            correct = tf.equal(pred, y)</span><br><span class="line">            correct = tf.reduce_sum(tf.cast(correct, dtype=tf.int32))</span><br><span class="line"></span><br><span class="line">            total_correct += <span class="built_in">int</span>(correct)</span><br><span class="line">            total_num += x.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        acc = total_correct / total_num</span><br><span class="line">        print(epoch, <span class="string">f&#x27;test acc: <span class="subst">&#123;acc&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> 可视化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Himmelblau函数优化实战</title>
      <link href="2022/08/03/Himmelblau%E5%87%BD%E6%95%B0%E4%BC%98%E5%8C%96/"/>
      <url>2022/08/03/Himmelblau%E5%87%BD%E6%95%B0%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><blockquote><p>回首得越久，你会看得越远。−温斯顿·丘吉尔</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">himmelblau</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (x[<span class="number">0</span>]**<span class="number">2</span> + x[<span class="number">1</span>] - <span class="number">11</span>)**<span class="number">2</span> + (x[<span class="number">0</span>] + x[<span class="number">1</span>]**<span class="number">2</span> - <span class="number">7</span>)**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = np.arange(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">0.1</span>)</span><br><span class="line">y = np.arange(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;x_shape: <span class="subst">&#123;x.shape&#125;</span>,y_shape: <span class="subst">&#123;y.shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成坐标点</span></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">print(<span class="string">f&#x27;X_shape: <span class="subst">&#123;X.shape&#125;</span>,Y_shape: <span class="subst">&#123;Y.shape&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Z = himmelblau([X, Y])</span><br><span class="line"></span><br><span class="line">fig = plt.figure(<span class="string">&#x27;himmelblau&#x27;</span>)</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">ax.plot_surface(X, Y, Z)</span><br><span class="line">ax.view_init(<span class="number">60</span>, -<span class="number">30</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">x = tf.constant([-<span class="number">4.</span>, <span class="number">0.</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">200</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">        tape.watch([x])</span><br><span class="line">        y = himmelblau(x)</span><br><span class="line"></span><br><span class="line">    grads = tape.gradient(y, [x])[<span class="number">0</span>]</span><br><span class="line">    x -= <span class="number">0.01</span> * grads</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> step % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">f&#x27;step: <span class="subst">&#123;step&#125;</span>, x: <span class="subst">&#123;x&#125;</span>, f(x): <span class="subst">&#123;y&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MNIST手写数字识别与可视化实战</title>
      <link href="2022/08/03/MNIST%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
      <url>2022/08/03/MNIST%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>很难想象哪一个大行业不会被人工智能改变。人工智<br>能会在这些行业里发挥重大作用，这个走向非常明<br>显。−吴恩达</p></blockquote><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> tensorflow.python.keras <span class="keyword">as</span> keras</span><br><span class="line"><span class="keyword">from</span> tensorflow.python.keras <span class="keyword">import</span> layers</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"></span><br><span class="line">(x_train, y_train), (x_test, y_test) = mnist.load_data()</span><br><span class="line"></span><br><span class="line">x_train = x_train / <span class="number">255.0</span></span><br><span class="line">x_test = x_test / <span class="number">255.0</span></span><br><span class="line"></span><br><span class="line">model = keras.Sequential()</span><br><span class="line"></span><br><span class="line">model.add(layers.Flatten(input_shape=(<span class="number">28</span>, <span class="number">28</span>)))</span><br><span class="line">model.add(layers.Dense(<span class="number">128</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(layers.Dropout(<span class="number">0.2</span>))  <span class="comment"># 解决过拟合的问题</span></span><br><span class="line">model.add(layers.Dense(<span class="number">10</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="string">&#x27;sparse_categorical_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"></span><br><span class="line">model.fit(x_train, y_train, epochs=<span class="number">5</span>)</span><br><span class="line">res = model.evaluate(x_test, y_test)</span><br><span class="line">print(model.metrics_names)</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        img_random = x_test[np.random.randint(num, <span class="built_in">len</span>(x_test))]</span><br><span class="line">        plt.imshow(img_random)</span><br><span class="line">        img_random = (np.expand_dims(img_random, <span class="number">0</span>))  <span class="comment"># 扩展维度 0是代表的维度</span></span><br><span class="line">        prob = model.predict(img_random)</span><br><span class="line">        print(np.argmax(prob))  <span class="comment"># 取出最大值的索引</span></span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
            <tag> 可视化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手写数字识别流程</title>
      <link href="2022/08/02/%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E6%B5%81%E7%A8%8B/"/>
      <url>2022/08/02/%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><blockquote><p>我们需要的是一台可以从经验中学习的机器。<br>−阿兰·图灵</p></blockquote><h1 id="手写数字识别流程"><a href="#手写数字识别流程" class="headerlink" title="手写数字识别流程"></a>手写数字识别流程</h1><ul><li><p>MNIST手写数字集7000*10张图片</p></li><li><p>60k张图片训练，10k张图片测试</p></li><li><p>每张图片是28<em>28，如果是彩色图片是28</em>28*3</p></li><li><p>0-255表示图片的灰度值，0表示纯白，255表示纯黑</p></li><li><p>打平28<em>28的矩阵，得到28</em>28=784的向量</p></li><li><p>对于b张图片得到[b,784];然后对于b张图片可以给定编码</p></li><li><p>把上述的普通编码给定成独热编码，但是独热编码都是概率值，并且- 概率值相加为1，类似于softmax回归</p></li><li><p>套用线性回归公式</p></li><li><p>X[b,784] W[784,10] b[10] 得到 [b,10]</p></li><li><p>高维图片实现非常复杂，一个线性模型无法完成，因此可以添加非线性因子</p></li><li><p>f(X@W+b)，使用激活函数让其非线性化，引出relu函数</p></li><li><p>用了激活函数，模型还是太简单</p></li><li><p>使用工厂</p><pre><code>  H1 =relu(X@W1+b1)  H2 = relu(h1@W2+b2)  Out = relu(h2@W3+b3)</code></pre></li><li><p>第一步，把[1,784]变成[1,512]变成[1,256]变成[1,10]</p></li><li><p>得到[1,10]后将结果进行独热编码</p></li><li><p>使用欧氏距离或者使用mse进行误差度量</p></li><li><p>[1,784]通过三层网络输出一个[1,10]</p></li></ul><blockquote><p>引用：<a href="https://www.cnblogs.com/nickchen121/p/10849484.html">https://www.cnblogs.com/nickchen121/p/10849484.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前向传播实战</title>
      <link href="2022/08/01/forword/"/>
      <url>2022/08/01/forword/</url>
      
        <content type="html"><![CDATA[<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h3><blockquote><p>我设想在未来，我们可能就相当于机器人的宠物狗，<br>到那时我也会支持机器人的。−克劳德·香农</p></blockquote><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>记录下学习<code>Tensorflow</code>过程中的第一个实战-前向传播实战，尽可能详细地做了代码注释，便于理解与之后的回顾。</p><h1 id="概念引入"><a href="#概念引入" class="headerlink" title="概念引入"></a>概念引入</h1><blockquote><p>前向传播：神经网络从输入到输出的计算过程</p></blockquote><p>神经网络的前向传播过程，也是数据张量(Tensor)从第一层流动(Flow)至输出层的过程，即从输入数据开始，途径每个隐藏层，直至得到输出并计算误差，这也是 <code>TensorFlow</code>框架名字由来。</p><h1 id="代码部分"><a href="#代码部分" class="headerlink" title="代码部分"></a>代码部分</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&#x27;2&#x27;</span>  <span class="comment"># 忽略warning</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> datasets  <span class="comment"># 管理数据集工具</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据集</span></span><br><span class="line"><span class="comment"># x:[60k,28,28]</span></span><br><span class="line"><span class="comment"># y:[60k]</span></span><br><span class="line">(x, y), _ = datasets.mnist.load_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tensor转换</span></span><br><span class="line"><span class="comment"># x: [0~255] =&gt; [0~1.]</span></span><br><span class="line">x = tf.convert_to_tensor(x, dtype=tf.float32) / <span class="number">255.</span></span><br><span class="line">y = tf.convert_to_tensor(y, dtype=tf.int32)</span><br><span class="line"></span><br><span class="line">print(x.shape, y.shape, x.dtype, y.dtype)</span><br><span class="line">print(tf.reduce_min(x), tf.reduce_max(x))</span><br><span class="line">print(tf.reduce_min(y), tf.reduce_max(y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建数据集，一次取128个数值</span></span><br><span class="line">train_db = tf.data.Dataset.from_tensor_slices((x, y)).batch(<span class="number">128</span>)</span><br><span class="line"><span class="comment"># 创建叠加器</span></span><br><span class="line">train_iter = <span class="built_in">iter</span>(train_db)</span><br><span class="line">sample = <span class="built_in">next</span>(train_iter)  <span class="comment"># 迭代</span></span><br><span class="line">print(<span class="string">&#x27;batch:&#x27;</span>, sample[<span class="number">0</span>].shape, sample[<span class="number">1</span>].shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建权值</span></span><br><span class="line"><span class="comment"># [b, 784] =&gt; [b, 512] =&gt; [b, 128] =&gt; [b, 10]</span></span><br><span class="line"><span class="comment"># [dim_in, dim_out], [dim_out]</span></span><br><span class="line">w1 = tf.Variable(tf.random.truncated_normal([<span class="number">784</span>, <span class="number">256</span>], stddev=<span class="number">0.1</span>))  <span class="comment"># 解决梯度爆炸(nan)</span></span><br><span class="line">b1 = tf.Variable(tf.zeros([<span class="number">256</span>]))</span><br><span class="line">w2 = tf.Variable(tf.random.truncated_normal([<span class="number">256</span>, <span class="number">128</span>], stddev=<span class="number">0.1</span>))</span><br><span class="line">b2 = tf.Variable(tf.zeros([<span class="number">128</span>]))</span><br><span class="line">w3 = tf.Variable(tf.random.truncated_normal([<span class="number">128</span>, <span class="number">10</span>], stddev=<span class="number">0.1</span>))</span><br><span class="line">b3 = tf.Variable(tf.zeros([<span class="number">10</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># learning rate</span></span><br><span class="line">lr = <span class="number">1e-3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 前瞻运算</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># 多次迭代</span></span><br><span class="line">    <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_db):  <span class="comment"># 对所有数据集的循环</span></span><br><span class="line">        <span class="comment"># x: [128, 28, 28]</span></span><br><span class="line">        <span class="comment"># y: [128]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 维度变换</span></span><br><span class="line">        <span class="comment"># [b, 28, 28] =&gt; [b, 28*28]</span></span><br><span class="line">        x = tf.reshape(x, [-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:  <span class="comment"># 自动求导 自动跟踪tf.Variable</span></span><br><span class="line">            <span class="comment"># 梯度计算</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># x: [b, 28*28]</span></span><br><span class="line">            <span class="comment"># h1 = x@w1 + b1</span></span><br><span class="line">            <span class="comment"># [b, 784]@[784, 256] + [256] =&gt; [b, 256] + [256] =&gt; [b, 256] + [b, 256]</span></span><br><span class="line">            h1 = x@w1 + tf.broadcast_to(b1, [x.shape[<span class="number">0</span>], <span class="number">256</span>])</span><br><span class="line">            h1 = tf.nn.relu(h1)  <span class="comment"># 非线性转换</span></span><br><span class="line">            <span class="comment"># [b, 256] =&gt; [b, 128]</span></span><br><span class="line">            h2 = h1@w2 + b2</span><br><span class="line">            h2 = tf.nn.relu(h2)</span><br><span class="line">            <span class="comment"># [b, 128] =&gt; [b, 10]</span></span><br><span class="line">            out = h2@w3 + b3</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 计算误差</span></span><br><span class="line">            <span class="comment"># out: [b,10]</span></span><br><span class="line">            <span class="comment"># y: [b] =&gt; [b, 10]</span></span><br><span class="line">            y_onehot = tf.one_hot(y, depth=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 均方差</span></span><br><span class="line">            <span class="comment"># mse = mean(sum(y-out)^2)</span></span><br><span class="line">            <span class="comment"># 方差</span></span><br><span class="line">            <span class="comment"># [b, 10]</span></span><br><span class="line">            loss = tf.square(y_onehot - out)</span><br><span class="line">            <span class="comment"># 均值</span></span><br><span class="line">            <span class="comment"># mean: scalar</span></span><br><span class="line">            loss = tf.reduce_mean(loss)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 得到梯度</span></span><br><span class="line">        grads = tape.gradient(loss, [w1, b1, w2, b2, w3, b3])</span><br><span class="line">        <span class="comment"># w1 = w1 - lr * w1_grad</span></span><br><span class="line">        <span class="comment"># assign_sub 原地更新(类型不变)</span></span><br><span class="line">        w1.assign_sub(lr * grads[<span class="number">0</span>])</span><br><span class="line">        b1.assign_sub(lr * grads[<span class="number">1</span>])</span><br><span class="line">        w2.assign_sub(lr * grads[<span class="number">2</span>])</span><br><span class="line">        b2.assign_sub(lr * grads[<span class="number">3</span>])</span><br><span class="line">        w3.assign_sub(lr * grads[<span class="number">4</span>])</span><br><span class="line">        b3.assign_sub(lr * grads[<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            print(epoch, step, <span class="string">&#x27;loss:&#x27;</span>, <span class="built_in">float</span>(loss))</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">(60000, 28, 28) (60000,) &lt;dtype: <span class="string">&#x27;float32&#x27;</span>&gt; &lt;dtype: <span class="string">&#x27;int32&#x27;</span>&gt;</span><br><span class="line">tf.Tensor(0.0, shape=(), dtype=float32) tf.Tensor(1.0, shape=(), dtype=float32)</span><br><span class="line">tf.Tensor(0, shape=(), dtype=int32) tf.Tensor(9, shape=(), dtype=int32)</span><br><span class="line">batch: (128, 28, 28) (128,)</span><br><span class="line">0 0 loss: 0.33976617455482483</span><br><span class="line">0 100 loss: 0.1958806812763214</span><br><span class="line">0 200 loss: 0.18718643486499786</span><br><span class="line">0 300 loss: 0.15601249039173126</span><br><span class="line">0 400 loss: 0.17516227066516876</span><br><span class="line">1 0 loss: 0.1537063717842102</span><br><span class="line">1 100 loss: 0.14795097708702087</span><br><span class="line">1 200 loss: 0.15245798230171204</span><br><span class="line">1 300 loss: 0.1325622797012329</span><br><span class="line">1 400 loss: 0.14938321709632874</span><br><span class="line">2 0 loss: 0.1319803148508072</span><br><span class="line">2 100 loss: 0.13147899508476257</span><br><span class="line">2 200 loss: 0.13439854979515076</span><br><span class="line">2 300 loss: 0.1185288205742836</span><br><span class="line">2 400 loss: 0.13274045288562775</span><br><span class="line">3 0 loss: 0.1175210028886795</span><br><span class="line">3 100 loss: 0.12028291076421738</span><br><span class="line">3 200 loss: 0.12187065184116364</span><br><span class="line">3 300 loss: 0.10856960713863373</span><br><span class="line">3 400 loss: 0.12117012590169907</span><br><span class="line">4 0 loss: 0.10719207674264908</span><br><span class="line">4 100 loss: 0.11207938194274902</span><br><span class="line">4 200 loss: 0.11259110271930695</span><br><span class="line">4 300 loss: 0.10115315020084381</span><br><span class="line">4 400 loss: 0.11270163208246231</span><br><span class="line">5 0 loss: 0.09946105629205704</span><br><span class="line">5 100 loss: 0.10572906583547592</span><br><span class="line">5 200 loss: 0.10535679757595062</span><br><span class="line">5 300 loss: 0.09530024230480194</span><br><span class="line">5 400 loss: 0.10628950595855713</span><br><span class="line">6 0 loss: 0.09349677711725235</span><br><span class="line">6 100 loss: 0.10055620968341827</span><br><span class="line">6 200 loss: 0.09956973791122437</span><br><span class="line">6 300 loss: 0.09057899564504623</span><br><span class="line">6 400 loss: 0.10117393732070923</span><br><span class="line">7 0 loss: 0.08874528855085373</span><br><span class="line">7 100 loss: 0.09627220034599304</span><br><span class="line">7 200 loss: 0.09485194087028503</span><br><span class="line">7 300 loss: 0.08672039955854416</span><br><span class="line">7 400 loss: 0.0969923660159111</span><br><span class="line">8 0 loss: 0.08484948426485062</span><br><span class="line">8 100 loss: 0.09272643178701401</span><br><span class="line">8 200 loss: 0.09091418981552124</span><br><span class="line">8 300 loss: 0.08345989137887955</span><br><span class="line">8 400 loss: 0.09351988136768341</span><br><span class="line">9 0 loss: 0.08157537877559662</span><br><span class="line">9 100 loss: 0.08971865475177765</span><br><span class="line">9 200 loss: 0.08754660189151764</span><br><span class="line">9 300 loss: 0.08066332340240479</span><br><span class="line">9 400 loss: 0.09057702869176865</span><br><span class="line"></span><br><span class="line">进程已结束,退出代码0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><ul><li>1.详细讲解数据集的加载</li><li>2.解决梯度爆炸问题的原理</li><li>3.<code>tf.GradientTape(</code>)代码讲解</li><li>4.以简便代码完成<code>compute gradients</code>过程</li></ul><h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>此次实战基于对<code>MNIST</code>手写数字集的识别，结合流程以更好地理解。</p>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战 </tag>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React Hook，便捷且功能强大</title>
      <link href="2022/07/28/hook/"/>
      <url>2022/07/28/hook/</url>
      
        <content type="html"><![CDATA[<h2 id="useState基础使用"><a href="#useState基础使用" class="headerlink" title="useState基础使用"></a>useState基础使用</h2><ul><li>1.导入<code>useState</code>函数  <code>react</code></li><li>2.执行这个函数并且传入初始值必须在函数组件中</li><li>3.[数据，修改数据的方法]</li><li>4.使用数据修改数据</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//累加运算</span></span><br><span class="line">    <span class="keyword">const</span> [count,setCount] = useState (<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;button onclick=&#123;()=setCount (count + <span class="number">1</span>)&#125;&gt;&#123;count&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="useState状态的读取和修改"><a href="#useState状态的读取和修改" class="headerlink" title="useState状态的读取和修改"></a>useState状态的读取和修改</h2><blockquote><p>const [count,setCount] = useState(0)</p></blockquote><ul><li>1,<code>useState</code>传过来的参数,作为<code>count</code>的初始值</li><li>2.[count,setCount]    这里的写法是一个<code>解构赋值</code><br><code>useState</code>返回值是一个数组<ul><li>名字可以自定义吗？-&gt;可以自定义保持语义化</li><li>顺序可以换吗？-&gt;不可以的    第一参数就是数据状态,第二个参数就是修改数据的方法</li></ul></li><li>3.<code>setCount</code>函数  作用:用来修改count,依旧保持不能直接修改原值还是生成一个新值替换原值<ul><li><code>setCount</code>(基于原值计算得到的新值)</li></ul></li><li>4.<code>count</code>和<code>setCount</code>是一对是绑在一起的<code>setCount</code>只能用来修改对应的<code>count</code>值</li></ul><h2 id="useState组件更新过程"><a href="#useState组件更新过程" class="headerlink" title="useState组件更新过程"></a>useState组件更新过程</h2><p>组件的更新 - 当调用<code>setCount</code>的时候更新过程</p><blockquote><p>首次渲染</p></blockquote><ul><li>首次被渲染的时候组件内部的代码会被执行一次</li><li>其中<code>useState</code>也会跟着执行这里重点注意<code>初始值只在首次渲染时生效</code></li></ul><blockquote><p>更新渲染  //setCount都会更新</p></blockquote><ul><li>App组件会再次渲染这个函数会再次执行</li><li><code>useState</code>再次执行得到的新的<code>count</code>值不是0而是修改之后的1模板会用新值渲染</li></ul><blockquote><p>重点一句话：</p></blockquote><ul><li><code>useState</code>初始值只在首次渲染生效,后续只要调用<code>setCount</code>,整个app中代码都会执行,此时的<code>count</code>每次拿到的都是最新值</li></ul><h2 id="useState注意事项"><a href="#useState注意事项" class="headerlink" title="useState注意事项"></a>useState注意事项</h2><ul><li><p>1.只能出现在函数组件中</p></li><li><p>2.<strong>不能嵌套在if/for/其它函数中</strong>(react按照hooks的调用顺序识别每一个hook)</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num++</span><br><span class="line">    <span class="keyword">if</span>(num/<span class="number">2</span>==<span class="number">6</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span>[name,setName]=useState(<span class="string">&quot;cp&#x27;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">    const [list,setList]useState([])</span></span><br><span class="line"><span class="string">//俩个hook的顺序不是固定的，这是不可以的！！！</span></span><br></pre></td></tr></table></figure></li><li><p>3.可以通过开发者工具查看hooks状态</p></li></ul><h2 id="useEffect-“定义副作用”"><a href="#useEffect-“定义副作用”" class="headerlink" title="useEffect “定义副作用”"></a>useEffect “定义副作用”</h2><blockquote><p>这个hook可以代替类组件中的生命周期函数</p></blockquote><blockquote><p>依赖项控刺副作用的执行时机</p></blockquote><ul><li>1.默认状态（无依赖项）<br>组件初始化的时候先执行一次等到每次数据修改组件更新再次执行</li><li>2.添加一个空数组依赖项<br>组件初始化的时候执行一次  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;副作用执行了&quot;)</span></span><br><span class="line"><span class="string">&#125;,[])</span></span><br></pre></td></tr></table></figure></li><li>3.添加特定依赖项<blockquote><p>组件初始化的时候执行一次依赖的特定项发生变化会再次执行</p></blockquote></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span>[count,setCount]=useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [name,setName]useState(<span class="string">&#x27;zs&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    useEffect(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;副作用执行了&#x27;</span>)</span><br><span class="line">    &#125;,[count])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        &lt;&gt;</span><br><span class="line">        &lt;button onClick=<span class="function">()=&gt;</span>&#123;setCount(count <span class="number">1</span>)&#125;&#125;&gt;&#123;count)&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=<span class="function">()=&gt;</span>&#123;setName(<span class="string">&#x27;cp&#x27;</span>)&#125;&#125;&gt;&#123;name&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>注意事项</code><br>useEffect回调函数中用到的数据（比如，count)就是依赖数据，就应该出现在依赖项数组中，如果不添加依赖项就会有bug出现</p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>组件&amp;Props</title>
      <link href="2022/07/26/props/"/>
      <url>2022/07/26/props/</url>
      
        <content type="html"><![CDATA[<h1 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h1><h2 id="函数组件"><a href="#函数组件" class="headerlink" title="函数组件"></a>函数组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>“函数组件”本质上就是 JavaScript 函数</p></blockquote><h2 id="class组件"><a href="#class组件" class="headerlink" title="class组件"></a>class组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="渲染组件"><a href="#渲染组件" class="headerlink" title="渲染组件"></a>渲染组件</h2><p>当 React 元素为用户自定义组件时，它会将 JSX 所接收的<code>属性</code>（attributes）以及<code>子组件</code>（children）转换为单个对象传递给组件，这个对象被称之为 “<code>props</code>”。</p><p>例如，这段代码会在页面上渲染 “Hello, Sara”：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = ReactDOM.createRoot(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">&quot;Sara&quot;</span> /&gt;</span></span>;</span><br><span class="line">root.render(element);</span><br></pre></td></tr></table></figure><p>回顾一下这个例子中发生了什么：</p><ul><li>调用<code>root.render()</code>函数，并传入<code> &lt;Welcome name=&quot;Sara&quot; /&gt;</code> 作为参数。</li><li>React 调用<code> Welcome</code> 组件，并将 <code>&#123;name: &#39;Sara&#39;&#125; </code>作为<code>props</code>传入。</li><li>Welcome 组件将 <code>&lt;h1&gt;Hello, Sara&lt;/h1&gt; </code>元素作为返回值。</li><li>React DOM 将 DOM 高效地更新为 <code>&lt;h1&gt;Hello, Sara&lt;/h1&gt;</code>。</li></ul><blockquote><p><strong>注意： 组件名称必须以大写字母开头!!!</strong><br>React 会将以小写字母开头的组件视为原生 DOM 标签。例如，<code>&lt;div /&gt;</code> 代表 HTML 的 div 标签，而 <code>&lt;Welcome /&gt; </code>则代表一个组件，并且需在作用域内使用 <code>Welcome</code>。</p></blockquote><h2 id="组合组件"><a href="#组合组件" class="headerlink" title="组合组件"></a>组合组件</h2><blockquote><p>组件可以在其输出中引用其他组件</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Sara&quot;</span> /&gt;      </span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Cahal&quot;</span> /&gt;      </span><br><span class="line">      &lt;Welcome name=<span class="string">&quot;Edite&quot;</span> /&gt;    </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提取组件"><a href="#提取组件" class="headerlink" title="提取组件"></a>提取组件</h2><blockquote><p>将组件拆分为更小的组件。</p></blockquote><p>参考如下<code>Comment</code>组件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;img className=<span class="string">&quot;Avatar&quot;</span></span><br><span class="line">          src=&#123;props.author.avatarUrl&#125;</span><br><span class="line">          alt=&#123;props.author.name&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>该组件由于嵌套的关系，变得难以维护，且很难复用它的各个部分。因此，让我们从中提取一些组件出来。</p><p>首先，我们将提取 <code>Avatar</code> 组件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Avatar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;img className=<span class="string">&quot;Avatar&quot;</span>   </span><br><span class="line">            src=&#123;props.user.avatarUrl&#125;     </span><br><span class="line">            alt=&#123;props.user.name&#125;    </span><br><span class="line">        /&gt; </span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Avatar </code>不需知道它在 <code>Comment </code>组件内部是如何渲染的。因此，我们给它的 <code>props </code>起了一个更通用的名字：<code>user</code>，而不是 <code>author</code>。</p><blockquote><p>我们建议从<code>组件自身的角度</code>命名 <code>props</code>，而不是依赖于调用组件的上下文命名。</p></blockquote><p>我们现在针对 <code>Comment </code>做些微小调整：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;Avatar user=&#123;props.author&#125; /&gt;      </span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来，将提取 <code>UserInfo </code>组件，该组件在用户名旁渲染 <code>Avatar</code> 组件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserInfo</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;UserInfo&quot;</span>&gt;</span><br><span class="line">        &lt;Avatar user=&#123;props.user&#125; /&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;UserInfo-name&quot;</span>&gt;</span><br><span class="line">            &#123;props.user.name&#125; </span><br><span class="line">        &lt;/div&gt;   </span><br><span class="line">    &lt;/div&gt;  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>进一步简化 <code>Comment </code>组件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;UserInfo user=&#123;props.author&#125; /&gt;      </span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-text&quot;</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;Comment-date&quot;</span>&gt;</span><br><span class="line">        &#123;formatDate(props.date)&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>小总结：提取组件可能繁重，但值得</p></blockquote><h2 id="Props-的只读性"><a href="#Props-的只读性" class="headerlink" title="Props 的只读性"></a>Props 的只读性</h2><p>组件无论是使用<code>函数声明还是通过 class 声明</code>，都<code>绝不能</code>修改自身的 <code>props</code>。</p><blockquote><p>React 非常灵活，但它也有一个严格的规则：</p></blockquote><p><strong>所有 <code>React</code> 组件都必须像纯函数一样保护它们的 <code>props </code>不被更改</strong></p><h2 id="组件通讯"><a href="#组件通讯" class="headerlink" title="组件通讯"></a>组件通讯</h2><h3 id="父组件传递数据给子组件"><a href="#父组件传递数据给子组件" class="headerlink" title="父组件传递数据给子组件"></a>父组件传递数据给子组件</h3><ul><li>1.父组件提供要传递的<code>state</code>数据</li><li>2.给子组件标签添加属性，值为<code>state</code>中的数据</li><li>3.子组件中通过<code>props</code>接收父组件中传递的数据</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    state =&#123;<span class="attr">lastName</span>:<span class="string">&#x27;王&#x27;</span>&#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">        传递数据给子组件：&lt;Child name=&#123;<span class="built_in">this</span>.state.lastName&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>子组件接收到数据：&#123;props.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="子组件传递数据给父组件"><a href="#子组件传递数据给父组件" class="headerlink" title="子组件传递数据给父组件"></a>子组件传递数据给父组件</h3><blockquote><p>思路：利用回调函数，父组件提供回调，子组件调用，将要传递的数据作为回调函数的参数。</p></blockquote><ul><li>1.父组件提供一个回调函数(用于接收数据)</li><li>2.将该函数作为属性的值，传递给子组件</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    getchildMsg = <span class="function">(<span class="params">msg</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;接收到子组件数据&#x27;</span>，msg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                子组件：&lt;Child getMsg=&#123;<span class="built_in">this</span>.getchildMsg&#125;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>3.子组件通过props调用回调函数</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    state =&#123;<span class="attr">childMsg</span>:<span class="string">&#x27;React&#x27;</span>&#125;</span><br><span class="line">    handleClick =<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.props.getMsg(<span class="built_in">this</span>.state.childMsg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;button onClick=&#123;<span class="built_in">this</span>.handleClick&#125;&gt;点我，给父组件传递数据&lt;/button&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="兄弟组件"><a href="#兄弟组件" class="headerlink" title="兄弟组件"></a>兄弟组件</h1><ul><li>将共享状态提升到最近的<code>公共父组件</code>中，由公共父组件管理这个状态</li><li>思想：<code>状态提升</code></li><li>公共父组件职责：<ul><li>1.提供共享<code>状态</code></li><li>2.提供操作共享状态的<code>方法</code></li></ul></li><li>要通讯的子组件只需通过<code>pops接收</code>状态或<code>操作</code>状态的方法</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="comment">//提供共享状态</span></span><br><span class="line">    state=&#123;</span><br><span class="line">        count:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//提供修改状态的方法</span></span><br><span class="line">    onIncrement =<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setstate(&#123;</span><br><span class="line">            count:<span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Child1 count=&#123;<span class="built_in">this</span>.state.count&#125; /&gt;</span><br><span class="line">            &lt;Child2 onIncrement=&#123;<span class="built_in">this</span>.onIncrement&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> child1=<span class="function"><span class="params">props</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span><span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>计数器：&#123;props.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> child2=<span class="function"><span class="params">props</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>props.onIncrement()&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于anaconda3+pycharm搭建tensorflow-gpu环境（win10)</title>
      <link href="2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/"/>
      <url>2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>开始进行学习<code>tensorflow</code>库的深度学习的一些知识，把安装和环境配置的过程留下记录</p><blockquote><p>查看笔记本的显卡驱动和算力等就不在此赘述了</p></blockquote><h3 id="安装anaconda"><a href="#安装anaconda" class="headerlink" title="安装anaconda"></a>安装anaconda</h3><blockquote><p>官网：<a href="https://www.anaconda.com/">https://www.anaconda.com/</a></p></blockquote><p>安装时注意选择的版本、安装路径、勾选PATH即可，我这里安装的是<code>ana3-2019.03</code>版的</p><h3 id="安装tensorflow"><a href="#安装tensorflow" class="headerlink" title="安装tensorflow"></a>安装tensorflow</h3><p>注意如果之前电脑上如果安装过<code>python</code>，终端输入<code>pip</code>指令一般不会下载到anaconda中，强烈建议打开<code>Anaconda Powershell Prompt</code>界面</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/7be729582bb09396398b4f4b9e2bbb3b558d6a74b8da0a452193337ed48a75d2.png" alt="图 1">  </p><p>打开后，输入指令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Tensorflow&#x3D; 2.0.0表示是下载的版本</span><br><span class="line">&#x2F;&#x2F;-i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple表示镜像源的选择(加速下载)</span><br><span class="line">pip install tensorflow-gpu&#x3D;&#x3D;2.0.0 -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple</span><br></pre></td></tr></table></figure><p>打开cmd输入<code>conda list</code>,找到tensorflow-gpu</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/3b412e355ed173a1929bdb0f3341fba859a65f195519936c8c5ceff988b22204.png" alt="图 3">  </p><p>yes，搞定！</p><h3 id="安装cuda和cudnn"><a href="#安装cuda和cudnn" class="headerlink" title="安装cuda和cudnn"></a>安装cuda和cudnn</h3><p>首先直接到官网找版本下载包，cudnn下载需要注册一个账号(不麻烦)</p><blockquote><p>cuda:<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></p></blockquote><blockquote><p>cudnn:<a href="https://developer.nvidia.com/rdp/cudnn-archive">https://developer.nvidia.com/rdp/cudnn-archive</a></p></blockquote><p>我前边安装的是2.0.0版本的tensorflow，需要下载对应的适配版本,这里我下载的是：<br>cuda_10.0.130_411.31_win10.exe<br>cudnn-win10-x64-v7.5.0.56.zip</p><p>cuda安装，cudnn解压打开有一个coda的文件夹，修改其名字为cudnn，直接移动到cuda下载路径</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/21344f14f7d2b6c9485e89ad85f0573924cffe2fad76323068c6c421341c2f2d.png" alt="图 6">  </p><p>然后按照下图添加环境变量：<br><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/e80264baf16a6417656944b3e4ced7463b3faa793193906089758332ca33f234.png" alt="图 7">  </p><h3 id="安装pycharm"><a href="#安装pycharm" class="headerlink" title="安装pycharm"></a>安装pycharm</h3><p><code>pycharm</code>有的老版本插件不太全（包括中文插件），所以直接建议直接到官网下载最新版，省心</p><p>下载安装后打开，选择新建项目，如图操作</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/bf6e1ec8596ef2dae374d32e6c3ea20723093ebae0155c4498ab5a0af6440438.png" alt="图 8">  </p><p>点击下拉菜单，此时你的解释器那里应该是空的，如上图点3，按下图操作后就可以在上图位置选择解释器了</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/0dcbcd7e1dba0bae85fb5f18ae70e972d4fd3ca9c7c09f6f0c8c5f823aca9723.png" alt="图 9">  </p><p>打开后，在项目路径里新建demo.py文件，输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">os.environ[&quot;TF_CPP_MIN_LOG_LEVEL&quot;] &#x3D; &#39;2&#39;</span><br><span class="line"></span><br><span class="line">import tensorflow as tf</span><br><span class="line"></span><br><span class="line">print(&#39;GPU&#39;, tf.test.is_gpu_available())</span><br><span class="line"></span><br><span class="line">a &#x3D; tf.constant(2.)</span><br><span class="line">b &#x3D; tf.constant(4.)</span><br><span class="line"></span><br><span class="line">print(a*b)</span><br></pre></td></tr></table></figure><p>此时往往需要等待下方配置文件加载（耗时较长）</p><p>加载完成后，右键选择运行或直接<code>ctrl+shift+F10</code>运行<br>得到如下结果则环境搭建宣告完成</p><p><img src="/2022/07/18/%E5%9F%BA%E4%BA%8Eanaconda3+pycharm%E6%90%AD%E5%BB%BAtensorflow-gpu%E7%8E%AF%E5%A2%83/b9f83cfeacdcc8dbc2d393a9fdaaa84b156b3269332bdc903a85114f34278a8a.png" alt="图 10">  </p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>芜湖！完成了，中间一开始因为版本问题最后总是多少有点不尽人意，后来换了2.0.0版本求稳，总算是有了一个满意的结果，照这个步骤一步一步来，基本也没什么问题了，出问题赶紧百度（小窍门是限定下时间一个月或一年内，稍微确保下时效性)</p><p><strong>最后，文章较长，谢谢阅读，呱唧呱唧</strong></p>]]></content>
      
      
      <categories>
          
          <category> Deep-learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> Tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Warning: &lt;node&gt;Warning:Accessing non-existent property ‘xxx‘ of module exports inside circular dependency</title>
      <link href="2022/06/29/Warning-Accessing-non-existent-property-%E2%80%98xxx%E2%80%98-of-module-exports-inside-circular-depen/"/>
      <url>2022/06/29/Warning-Accessing-non-existent-property-%E2%80%98xxx%E2%80%98-of-module-exports-inside-circular-depen/</url>
      
        <content type="html"><![CDATA[<p>博客部署的过程中遇到了如题形式的几句报错反馈，但貌似并没有什么实质影响，但本着严谨<del>(强迫症?bushi)</del>的态度，还是到网上查了一下原因，多说是node版本问题，也因此了解到<code>nvm</code>工具（一个nodejs的版本管理工具，可以简单操作node版本的切换、安装、查看），接下来具体说下报错的解决方法吧：</p><h3 id="报错如下"><a href="#报错如下" class="headerlink" title="报错如下:"></a>报错如下:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(node:96123) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:96123) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br></pre></td></tr></table></figure><h3 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h3><p>放路径:<code>D:\Blog\node_modules\nib\node_modules\stylus\lib\nodes\index.js</code></p><p>D:\Blog是本地博客位置，顺着上方路径找到<code>index.js</code>文件，在其中加入以下代码，问题解决欸嘿(·ω&lt;)~</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.lineno &#x3D; null;</span><br><span class="line">exports.column &#x3D; null;</span><br><span class="line">exports.filename &#x3D; null;</span><br></pre></td></tr></table></figure><hr><p>好久不用nvm感觉都有点生疏了，以后可能会写篇博客记下nvm的常用语句，不过直接使用<code>help</code>更方便，毕竟它使用起来并不复杂。</p>]]></content>
      
      
      <categories>
          
          <category> Debug </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>firefox浏览器在新建页面打开书签网站</title>
      <link href="2022/06/27/firefox%E5%B0%8F%E6%96%B9%E6%B3%95/"/>
      <url>2022/06/27/firefox%E5%B0%8F%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>有没有过平时顺手点开收藏栏里的书签想查点东西，却不想把当前页面覆盖了的经历，就或多或少有点不太舒服吧，接下来一个小方法可以将firefox的书签设置成鼠标单击后在新建标签页打开：</p><h3 id="操作方法："><a href="#操作方法：" class="headerlink" title="操作方法："></a>操作方法：</h3><p>1.在地址栏输入<code>about:config</code>后回车，会弹出风险提示，选择接受。<br>2.在打开页面的搜索栏里输入<code>browser.tabs.loadBookmarksInTabs</code>。<br>3.默认是<code>false</code>,点击右侧切换按钮改为<code>true</code>就行了。</p><hr><p>如果不改，按住<code>ctrl</code>单击书签，或者按鼠标滚轮键点击书签，也可以在新建标签页打开书签，看个人习惯吧，我是改了设置的感觉比较方便。</p><p>Q.E.D🌠</p>]]></content>
      
      
      <categories>
          
          <category> 方法 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>芜湖，搭建成功</title>
      <link href="2022/06/26/%E8%8A%9C%E6%B9%96%EF%BC%8C%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F/"/>
      <url>2022/06/26/%E8%8A%9C%E6%B9%96%EF%BC%8C%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F/</url>
      
        <content type="html"><![CDATA[<p>拖延什么的pass，但前言想不出写啥好，大雾，此处省略一千零一字。</p><h3 id="关于博客"><a href="#关于博客" class="headerlink" title="关于博客"></a>关于博客</h3><ul><li>跌跌撞撞的开始了前端学习，总归要有个记录历程的地方，顺便带点鞭策的意义，dalao辣么多，身为菜鸟还是to learn吧。</li><li>记录下遇到的问题，如果碰巧能对别人有帮助也不错，也方便回头回顾错误，嗯，不错。</li><li>锻炼锻炼笔记能力，毕竟是自学啊，希望能在这条路上走的远一点吧。</li><li>现在自己的博客还是挺单调的，嘛，慢慢来吧，之后试着添加点有趣的，文章也少，未免寒碜。</li></ul><h3 id="致自己"><a href="#致自己" class="headerlink" title="致自己"></a>致自己</h3><p>  道阻且长啊，也只有奋斗能给自己一份真实的安全感了。</p><p>  Q.E.D🌠</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2022/04/25/hello-world/"/>
      <url>2022/04/25/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
